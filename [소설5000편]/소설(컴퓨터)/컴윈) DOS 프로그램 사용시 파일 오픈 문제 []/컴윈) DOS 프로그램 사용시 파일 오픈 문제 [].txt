
『윈도우즈-윈도우 98 활용과 팁 (go WIN)』 4601번
 제  목:[TIPS] DOS프로그램사용시 파일오픈문제                       
 올린이:x배트맨x(손무홍  ) 98/12/14 19:40  읽음:144  추천:  0 관련자료 없음
 -----------------------------------------------------------------------------

[질문]
도스용 데이터베이스 프로그램을 사용하는데 파일을 열 수 없다는 에러 메시지가 자주
 뜬다.
그래서 config.sys 파일의 files= 항목에 파일 수를 많이 늘려 주었다.
그래도 에러 메시지가 뜬다.
아무리 큰 숫자를 지정해도 도무지 해결되지 않는다.
이 데이터베이스 파일을 열지 못하면 어쩔 수 없이 윈도우 98를
하드 디스크에서 삭제하고 이전 도스로 돌아가야만 할 처지다.
[답변]
모든 프로그램은 실행할 때 파일을 불러 사용한다.
DOS에서는 프로그램에서 읽어들이고 열어 놓은 다양한 파일을 추적하기 위해
필요한 만큼의 메모리를 따로 지정해 줄 수 있다.
Config.sys 파일에서 'FILES=30'과 같은 명령문으로 처리한다.
이것은 프로그램에서 파일을 조작하기 위해 사용하는 이름을 보관할
메모리를 준비시켜 두는 것이다.
이런 이름을 파일 핸들이라고 부른다.
윈도우 DOS 세션에서 상당히 많은 파일을 열어 놓고 사용하는 DOS 프로그램을 시작하
면
다음과 같은 오류 메시지를 만날 수 있다.
Insufficient File Handles, Increase Files in Config.sys
이 메시지 자체도 문제가 있다.
Config.sys에서 FILES=을 아무리 늘려도 이 메시지는 계속 나타날 것이다.
정확하게 문제를 해결하자면 다음과 같은 메시지로 바뀌어야 할 것이다.
Add "PerVMFiles=15" to the [386Enh] section of SYSTEM.INI.
If 15 is not enough file handles, increase the number to 20.
Config.sys에서 지정하는 파일 핸들 숫자는
응용 프로그램에서 필요한 파일 핸들 수를 말한다.
System.ini의 PERVMFILES=은 윈도우에서 실행되는 가상 시스템(윈도우 DOS 세션)에서

동시에 열 수 있는 파일 핸들 수를 말한다.
System.ini에 PERVMFILES=이 지정되어 있지 않으면
각 DOS 세션에서 10개의 파일 핸들만 사용할 수 있도록 디폴트로 설정되기 때문에
일부 DOS 프로그램에선 파일 핸들 수가 부족한 현상이 발생하게 되는 것이다.
윈도우는 Config.sys에 30개의 파일 핸들을 지정할 것을 권장한다.
그러나 System.ini의 가상 시스템에 대한 파일 핸들 수는
이러한 오류 메시지가 나타났을 때에만 변경하는 것이 좋다.
각 파일 핸들은 작지만 메모리를 차지하기 때문이다.
DOS에서는 겨우 몇 바이트 정도밖에 소모되지 않는다.
Config.sys의 FILES= 라인에서 지정하는 핸들 수와
System.ini의 PERVMFILES=의 핸들 수는 모두 합쳐 255 이상을 넘을 수 없다.
물론 이렇게까지 많은 핸들을 사용하는 사람은 없을 것이다.

Phrozen Crew 98 Oscar Team - NiCK: NetSpider [cRACKER]*UCF
        Θ-=DaRK-KNiGhT=- Θ http://www.batman.co.kr
             mail to : batman@batman.co.kr  
,
