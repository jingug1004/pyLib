
『파워 유저 동호회-네트워크 (go PUG)』 504번
 제  목:[강좌] PC에서 ftp서버 만들기 1/2                            
 올린이:apt2848 (복성현  )    98/06/19 18:42    읽음:897 관련자료 없음
 -----------------------------------------------------------------------------

인터넷 상에서 파일을 주고받는 서비스인 FTP(File Transper Protocol)
를 내 PC에서 간단하게 구축할 수 없을까. 당장 내 PC에 있는 대용량의
파일들을 다른 지역의 PC로 보내고 싶을 때 유용하며 웬만한  비비에스
파일서버가 부럽지 않은 FTP 서버. PC를 FTP 서버로 구축해주는 FTP 
Serv-U만 있으면 가능하다.

요즘에는 웹 환경이 활성화되어 많은 사람들이 인터넷 하면 곧바로 웹,
즉 WWW를 떠올린다. WWW도 인터넷에서 제공되는 서비스 중 하나일 뿐으
로 그외에 많은 인터넷 서비스가 있다. 이 중 FTP와 메일 서비스는  특
히 중요한데 메일 서비스는 일반인에게 많이 알려졌지만 FTP  서비스는
그리 대중적이지 않다. 그러나 실제로 웹에서 파일을 다운로드 받을 경
우에 사용되는 것은 FTP 서버로서 그만큼 파일을 전송하는 데 없어선
안되는 중요한 인터넷 서비스이다. 그런데 이렇게 파일을 전송하는  기
능인 FTP가 윈도우 95에는 없다. 또한 윈도우 NT에서도 IIS 서버를  설
치해야 FTP 서비스를 할 수 있다. 물론 윈도우 NT의 경우는 서버에  초
점을 맞추어 개발된 운영체제이므로 일단 FTP 서버를 구축할 경우에 손
쉽게 IIS를 이용할 수 있다. 그렇다면 윈도우 95에서 간편하게 FTP  서
버를 만들려면 어떻게 해야 할까? 바로 FTP Serv-U를 사용하면 된다.

설치하는 방법도 간단하고 운영하는 방법도 기존의 유닉스 환경에서 설
정하는 것보다 훨씬 쉽다. 그래서 간이 FTP 서버를 운영하는 인터넷 사
이트에서 종종 이 프로그램을 이용한 곳이 눈에 띈다.
이 FTP 서비스는 자신의 PC에서 작업한 파일을 다른 장소에서 전송받거
나 다른 사람이 자신의 PC에 파일을 전송해야 할 일이 있을 때 무척 효
율적인 해결책이다. 더군다나 굳이 비싼 하드웨어를 요구하는 윈도우 
NT나 손에 잘 익지 못한 유닉스를 고집하지 않아도 되니 일석이조다.물
론 개인적으로는 유닉스 계열 운영체제인 리눅스 사용을 선호하지만 섣
불리 다가서기에는 너무 생소한 느낌이어서 간단히 SOHO 환경을 구축하
려는 사람은 이렇게 윈도우 95에서 사용할 수 있는 데몬(Deamon)프로그
램을 권유하는 편이다.

FTP Serv-U 구해오기

먼저 FTP Serv-U를 가져와야 하는데 홈페이지(http://www.cat-soft.com)
에 들러보자. 홈 페이지를 보면 매뉴얼과 기타 정보들을 볼 수  있는데
프로그램을 다운로드받으면 그 프로그램에도 매뉴얼이 포함되어 있다.
설치 과정은 설치 디렉토리를 결정하는 정도로 마무리할 수 있으며 원하
는 위치에 프로그램이 설치됐다면 환경설정을 해주어야 제대로 된 FTP서
버를 구축할 수 있다. 처음 Serv-U를 실행하면 대화상자가 나타는데  셰
어웨어이므로 등록하라는 메시지와 함께 두 가지 형태의 프로그램  사용
방법을 보여준다. 45일간 제한없이 사용할 수 있는 것과 제한적으로  사
용이 가능한 것이다. 사실 제한적인 사용 권한을 갖고 FTP 서버를  만들
어도 무난하지만 너무 빈약하므로 여기서는 45일간 평가할 수 있는 사용
권한을 갖도록 하자.
프로그램을 돌리면 녹색 U 모양의 트레이 아이콘이 작업 표시줄에  들어
간다. 서버가 동작하면 파란색으로 변하는데 이 트레이 아이콘을 더블클
릭하면 Serv-U 프로그램 창이 열린다.

화면 1. 트레이 아이콘을 더블클릭하면 프로그램 창이 열린다.

프로그램 창은 <화면 1>과 같이 매우 간단하다. 흰색 바탕에 메시지만 
출력되는 화면이다. 이 화면에서 어떤 사용자가 로그인 했으며 얼마동안
서버에 머물고 있는지를 알려준다. 단순하지만 Setup 메뉴를 선택하면 
이제부터 험난한(?) 설정과정을 지나야 한다. 먼저 Setup 메뉴에서 FTP
-Server를 선택한다. 기본으로 설정된 값 이외에도 설정할 내용이있는데
다소 전문적인 의미를 지닌 항목도 있지만 그렇게 어려운 설정은아니다.
먼저 포트 번호를 설정한다. 인터넷은 기본적으로 TCP/IP를 이용해 파일
을 전송한다. 그런데 이 프로토콜은 포트(Port) 번호라는 개념을   갖고
인터넷 서비스를 이용하게 된다. 포트는 TCP/IP 프로토콜을 사용할 때 
여러 서비스를 이용할 수 있도록 해준다. 즉 하나의 TCP/IP 연결을 가지
고 FTP와 Telnet, 웹 서비스를 이용할 수 있는 까닭은 바로 이 포트  때
문에 가능한 것이다. 왜냐하면 각 서비스마다 포트 번호가 지정되어  있
으므로 이 번호로 서로 통신해 다중 환경을 구현해준다. 포트 번호 중에
서 0부터 255 까지는 이미 지정되어 있는 포트 번호이며 이들 포트 번호
에서 21은 주로 FTP를 위해 이용된다. 프로그램에서도 포트 번호는 21번
으로 되어 있고 이를 수정할 필요는 없다. Max. speed 항목은 현재 FTP 
서버로 사용할 컴퓨터가 연결된 인터넷 회선의 속도를 입력한다. ISDN이
나 전화급 전용선(일명 TT선)을 이용한다면 각각의 속도를 입력하고 인터
넷 전용선을 사용하는 환경이라면 회선 급에 따른 속도를 Kbps 단위로 
입력한다.

Max. no. of users 항목에서는 FTP 서버에 들어올 수 있는 최대 사용자 
수를 입력한다. 그리고 Max. no. anonymous에는 임의로 FTP 서버에 들어
올 수 있는 사용자 수이다. 여기에서 Max. no. of users 항목은 FTP 서
버에 등록된 사용자는 물론 Anonymous 사용자 수를 포함한 수이다. 이러
한 입력값은 시스템 성능과 회선 속도를 고려해 입력해야 제대로 된 서비
스를 제공할 수 있다.

Time-out users와 Time-out anonymous 에는 FTP 서버에 입력이 들어오지 
않을 경우 일정 시간이 경과하면 자동으로 사용자 접속을 끊어버리는 설정
이다. 기본값으로 두어도 상관없다. Serv-U는 윈도우 NT에 설치해 사용할
수도 있지만 여기에서는 윈도우 95에 설치한 경우만을 기준으로 한다. 윈
도우 95를 시작할 때마다 이 프로그램을 실행하려면 시작 프로그램 폴더에
단축 아이콘을 두면 되겠지만 이 대화상자에서 Auto-start as system
service를 선택하면 자동으로 프로그램이 시작된다.

Enable security 와 Encrypt password 항목은 인터넷에서 간이 FTP 를 만들
생각이라면 반드시 선택한다. 이를 선택하지 않으면 예기치 않은 외부인의
침입에 대응할 수 없게 된다. 그리고 Check anon. passwords를 선택하면 
anonymous로 FTP 서버에 로그인했을 때 전자 메일 주소를 적어야만 로그인
하도록 해준다.

Delete partially uploaded files는 만약 FTP 서버에 파일을 업로드하는 
도중 연결이 끊겨 파일을 제대로 못 올렸다면 이러한 파일을 자동으로 삭제
하는 기능이다. 마지막으로 Use all lower case for files/dirs는 운영체제
에 따라 대소문자 이름을 구분하는 데 적용할 수 있는 옵션이다. 물론 유닉
스와는 다르지만 윈도우 95에서는 체크하지 않고 사용해도 무방하다.

화면 2. FTP 서버 설정 대화상자

FTP Serv-U 서버 사용자 설정

기본적으로 서버에 대한 설정이 끝났다면 이제는 손님 맞을 준비를 해야
한다. 인터넷에서 자신의 컴퓨터에 들어올 사용자들에 대한 등록 과정이
바로 그것인데 크게 두 가지 유형의 사용자가 있다. 일반 사용자와 anon
ymous 사용자. 일반 사용자는 FTP Serv-U에 등록된 사용자이며anonymous
사용자는 등록되지 않았지만 파일을 업로드 하거나 다운로드 할 수 있는
임의의 사용자를 의미한다. 보통 FTP 서버에 로그인하는 사용자들은  특
정 디렉토리, 즉 폴더에 들어오도록 하는 것이 좋다. 유닉스 시스템으로
되어 있는 FTP 서버에 로그인하면 다른 디렉토리가 보이지 않는데  이는
보안상 좋고 파일관리할 때도 편리하다.
 
 사용자 설정은 Setup 메뉴의 Users 를 선택해 설정한다. 초기값은 사용
자가 등록되지 않았으므로 아무리 다른 컴퓨터에서 FTP Serv-U를 설치한
컴퓨터에 들어오려 해도 들어올 수 없다.사용자를 등록하기 위해 New 버
튼을 누른다. 먼저 Anonymous 사용자를 등록한다.이 사용자 이름은 특별
하게 인식되는 사용자 이름이며 이 이름으로 서버에 로그인하면 앞서 설
정한 Check anon. passwords가  선택되어 있을 경우 암호로 메일 주소를
입력해야 로그인할 수 있다. 그리고 Home directory 를 설정해야 하는데
홈 디렉토리가 설정되지 않으면 로그인할 장소가 없으므로 서버에  들어
올 수 없다. 그러므로 서버에 파일을 둘 디렉토리를 지정하고 이   디렉
토리로 로그인하도록 한다. 그리고 File/Directory access rules에서 홈
디렉토리를 추가한다. Add 버튼을 눌러 홈 디렉토리와 동일하게  입력한
다. 물론 다른 디렉토리도 선택해 추가할 수 있지만 어차피 임의로 들어
올 사용자는 한 개의 홈 디렉토리에 동일하게 사용하도록 하는 것이  좋
다.

그리고 해당 파일과 디렉토리에 대해 설정하는데 Files 항목에 Read, 
Write, Delete,Execute 를 설정하도록 되어 있고 Directories 항목에는 
List, Make, Remove 를 설정 수 있다. 각각이 의미하는 대로 파일과  디
렉토리를 다룰 수 있는 권한을 설정하는 것인데 anonymous 사용자는  읽
고(Read), 볼 수만 있도록(List) 설정하는 것이 보안상 좋다. Sub-dirs:
inherit 항목은 부 디렉토리도 같은 형태의 설정을 자동으로 적용하도록
하는 옵션이다. 참고로 anonymous 사용자의 홈 디렉토리를 x:\anonftp
라고 했다면 다음과 같은 설정으로 따로 설정을 해 디렉토리와   파일에
대한 설정을 하면 일관성 있는 FTP 서버 설정이 될 것이다.

* F:\ANONFTP\UPLOAD ⇒ 쓰기(write), 부 디렉토리도 동일한 
  설정 적용(inherit)
* F:\ANONFTP ⇒ 읽기(read), 보기(list), 부 디렉토리도 동일한 
  설정 적용(inherit)



                                                         액톤코리아
                                                www.dual.dnet.co.kr
